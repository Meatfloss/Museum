!function(window){"use strict";function registerModule(moduleName,dependencies){angular.module(moduleName,dependencies||[]),angular.module(applicationModuleName).requires.push(moduleName)}var applicationModuleName="mean",service={applicationModuleName:applicationModuleName,applicationModuleVendorDependencies:["ngResource","ngAnimate","ngMessages","ui.router","ui.bootstrap","angularFileUpload"],registerModule:registerModule};window.ApplicationConfiguration=service}(window);
!function(app){"use strict";function bootstrapConfig($locationProvider,$httpProvider){$locationProvider.html5Mode(!0).hashPrefix("!"),$httpProvider.interceptors.push("authInterceptor")}function init(){if(window.location.hash&&"#_=_"===window.location.hash)if(window.history&&history.pushState)window.history.pushState("",document.title,window.location.pathname);else{var scroll={top:document.body.scrollTop,left:document.body.scrollLeft};window.location.hash="",document.body.scrollTop=scroll.top,document.body.scrollLeft=scroll.left}angular.bootstrap(document,[app.applicationModuleName])}angular.module(app.applicationModuleName,app.applicationModuleVendorDependencies),angular.module(app.applicationModuleName).config(bootstrapConfig),bootstrapConfig.$inject=["$locationProvider","$httpProvider"],angular.element(document).ready(init)}(ApplicationConfiguration);
!function(app){"use strict";app.registerModule("articles",["core"]),app.registerModule("articles.admin",["core.admin"]),app.registerModule("articles.admin.routes",["core.admin.routes"]),app.registerModule("articles.services"),app.registerModule("articles.routes",["ui.router","core.routes","articles.services"])}(ApplicationConfiguration);
!function(app){"use strict";app.registerModule("about",["core"]),app.registerModule("about.routes",["ui.router","core.routes"])}(ApplicationConfiguration);
!function(app){"use strict";app.registerModule("authors",["core"]),app.registerModule("authors.admin",["core.admin"]),app.registerModule("authors.admin.routes",["core.admin.routes"]),app.registerModule("authors.services"),app.registerModule("authors.routes",["ui.router","core.routes","articles.services"])}(ApplicationConfiguration);
!function(app){"use strict";app.registerModule("contact",["core"]),app.registerModule("contact.routes",["ui.router","core.routes"])}(ApplicationConfiguration);
!function(app){"use strict";app.registerModule("chat",["core"]),app.registerModule("chat.routes",["ui.router","core.routes"])}(ApplicationConfiguration);
!function(app){"use strict";app.registerModule("core"),app.registerModule("core.routes",["ui.router"]),app.registerModule("core.admin",["core"]),app.registerModule("core.admin.routes",["ui.router"])}(ApplicationConfiguration);
!function(app){"use strict";app.registerModule("exhibitions",["core"]),app.registerModule("exhibitions.routes",["ui.router","core.routes"])}(ApplicationConfiguration);
!function(app){"use strict";app.registerModule("paintings",["core"]),app.registerModule("paintings.admin",["core.admin"]),app.registerModule("paintings.admin.routes",["core.admin.routes"]),app.registerModule("paintings.services"),app.registerModule("paintings.routes",["ui.router","core.routes","articles.services"])}(ApplicationConfiguration);
!function(app){"use strict";app.registerModule("users"),app.registerModule("users.admin"),app.registerModule("users.admin.routes",["ui.router","core.routes","users.admin.services"]),app.registerModule("users.admin.services"),app.registerModule("users.routes",["ui.router","core.routes"]),app.registerModule("users.services")}(ApplicationConfiguration);
!function(){"use strict";function menuConfig(Menus){Menus.addSubMenuItem("topbar","admin",{title:"Manage Articles",state:"admin.articles.list"})}angular.module("articles.admin").run(menuConfig),menuConfig.$inject=["menuService"]}();
!function(){"use strict";function routeConfig($stateProvider){$stateProvider.state("admin.articles",{"abstract":!0,url:"/articles",template:"<ui-view/>"}).state("admin.articles.list",{url:"",templateUrl:"modules/articles/client/views/admin/list-articles.client.view.html",controller:"ArticlesListController",controllerAs:"vm",data:{roles:["admin"]}}).state("admin.articles.create",{url:"/create",templateUrl:"modules/articles/client/views/admin/form-article.client.view.html",controller:"ArticlesController",controllerAs:"vm",data:{roles:["admin"]},resolve:{articleResolve:newArticle}}).state("admin.articles.edit",{url:"/:articleId/edit",templateUrl:"modules/articles/client/views/admin/form-article.client.view.html",controller:"ArticlesController",controllerAs:"vm",data:{roles:["admin"]},resolve:{articleResolve:getArticle}})}function getArticle($stateParams,ArticlesService){return ArticlesService.get({articleId:$stateParams.articleId}).$promise}function newArticle(ArticlesService){return new ArticlesService}angular.module("articles.admin.routes").config(routeConfig),routeConfig.$inject=["$stateProvider"],getArticle.$inject=["$stateParams","ArticlesService"],newArticle.$inject=["ArticlesService"]}();
!function(){"use strict";function menuConfig(menuService){menuService.addMenuItem("topbar",{title:"Articles",state:"articles",type:"dropdown",roles:["*"],position:4}),menuService.addSubMenuItem("topbar","articles",{title:"List Articles",state:"articles.list",roles:["*"]})}angular.module("articles").run(menuConfig),menuConfig.$inject=["menuService"]}();
!function(){"use strict";function routeConfig($stateProvider){$stateProvider.state("articles",{"abstract":!0,url:"/articles",template:"<ui-view/>"}).state("articles.list",{url:"",templateUrl:"modules/articles/client/views/list-articles.client.view.html",controller:"ArticlesListController",controllerAs:"vm",data:{pageTitle:"Articles List"}}).state("articles.view",{url:"/:articleId",templateUrl:"modules/articles/client/views/view-article.client.view.html",controller:"ArticlesController",controllerAs:"vm",resolve:{articleResolve:getArticle},data:{pageTitle:"Article {{ articleResolve.title }}"}})}function getArticle($stateParams,ArticlesService){return ArticlesService.get({articleId:$stateParams.articleId}).$promise}angular.module("articles.routes").config(routeConfig),routeConfig.$inject=["$stateProvider"],getArticle.$inject=["$stateParams","ArticlesService"]}();
!function(){"use strict";function ArticlesController($scope,article,Authentication){var vm=this;vm.article=article,vm.authentication=Authentication,vm.error=null}angular.module("articles").controller("ArticlesController",ArticlesController),ArticlesController.$inject=["$scope","articleResolve","Authentication"]}();
!function(){"use strict";function ArticlesListController(ArticlesService){var vm=this;vm.articles=ArticlesService.query()}angular.module("articles").controller("ArticlesListController",ArticlesListController),ArticlesListController.$inject=["ArticlesService"]}();
!function(){"use strict";function ArticlesService($resource){function createOrUpdate(article){function onSuccess(article){}function onError(errorResponse){var error=errorResponse.data;handleError(error)}return article._id?article.$update(onSuccess,onError):article.$save(onSuccess,onError)}function handleError(error){console.log(error)}var Article=$resource("api/articles/:articleId",{articleId:"@_id"},{update:{method:"PUT"}});return angular.extend(Article.prototype,{createOrUpdate:function(){var article=this;return createOrUpdate(article)}}),Article}angular.module("articles.services").factory("ArticlesService",ArticlesService),ArticlesService.$inject=["$resource"]}();
!function(){"use strict";function menuConfig(menuService){menuService.addMenuItem("topbar",{title:"About",state:"about",roles:["*"],position:1})}angular.module("about").run(menuConfig),menuConfig.$inject=["menuService"]}();
!function(){"use strict";function routeConfig($stateProvider){$stateProvider.state("about",{url:"/about",templateUrl:"modules/about/client/views/about.client.view.html",controller:"AboutController",controllerAs:"vm",data:{pageTitle:"About"}})}angular.module("about.routes").config(routeConfig),routeConfig.$inject=["$stateProvider"]}();
!function(){"use strict";function AboutController($scope,$state,Authentication){function init(){}init()}angular.module("about").controller("AboutController",AboutController),AboutController.$inject=["$scope","$state","Authentication"]}();
!function(){"use strict";function menuConfig(Menus){Menus.addSubMenuItem("topbar","admin",{title:"Manage Authors",state:"admin.authors.list"})}angular.module("authors.admin").run(menuConfig),menuConfig.$inject=["menuService"]}();
!function(){"use strict";function routeConfig($stateProvider){$stateProvider.state("admin.authors",{"abstract":!0,url:"/authors",template:"<ui-view/>"}).state("admin.authors.list",{url:"",templateUrl:"modules/authors/client/views/admin/list-authors.client.view.html",controller:"AuthorsListController",controllerAs:"vm",data:{roles:["admin"]}}).state("admin.authors.create",{url:"/create",templateUrl:"modules/authors/client/views/admin/form-author.client.view.html",controller:"AuthorsController",controllerAs:"vm",data:{roles:["admin"]},resolve:{authorResolve:newAuthor}}).state("admin.authors.edit",{url:"/:authorId/edit",templateUrl:"modules/authors/client/views/admin/form-author.client.view.html",controller:"AuthorsController",controllerAs:"vm",data:{roles:["admin"]},resolve:{authorResolve:getAuthor}})}function getAuthor($stateParams,AuthorsService){return AuthorsService.get({authorId:$stateParams.authorId}).$promise}function newAuthor(AuthorsService){return new AuthorsService}angular.module("authors.admin.routes").config(routeConfig),routeConfig.$inject=["$stateProvider"],getAuthor.$inject=["$stateParams","AuthorsService"],newAuthor.$inject=["AuthorsService"]}();
!function(){"use strict";function AuthorsService($resource){function createOrUpdate(author){function onSuccess(author){}function onError(errorResponse){var error=errorResponse.data;handleError(error)}return author._id?author.$update(onSuccess,onError):author.$save(onSuccess,onError)}function handleError(error){console.log(error)}var Author=$resource("api/authors/:authorId",{authorId:"@_id"},{update:{method:"PUT"}});return angular.extend(Author.prototype,{createOrUpdate:function(){var author=this;return createOrUpdate(author)}}),Author}angular.module("authors.services").factory("AuthorsService",AuthorsService),AuthorsService.$inject=["$resource"]}();
!function(){"use strict";function menuConfig(menuService){menuService.addMenuItem("topbar",{title:"Contact",state:"contact",roles:["*"],position:5})}angular.module("contact").run(menuConfig),menuConfig.$inject=["menuService"]}();
!function(){"use strict";function routeConfig($stateProvider){$stateProvider.state("contact",{url:"/contact",templateUrl:"modules/contact/client/views/contact.client.view.html",controller:"ContactController",controllerAs:"vm",data:{pageTitle:"Contact"}})}angular.module("contact.routes").config(routeConfig),routeConfig.$inject=["$stateProvider"]}();
!function(){"use strict";function ContactController($scope,$state,Authentication){function init(){}init()}angular.module("contact").controller("ContactController",ContactController),ContactController.$inject=["$scope","$state","Authentication"]}();
!function(){"use strict";function menuConfig(menuService){}angular.module("chat").run(menuConfig),menuConfig.$inject=["menuService"]}();
!function(){"use strict";function routeConfig($stateProvider){$stateProvider.state("chat",{url:"/chat",templateUrl:"modules/chat/client/views/chat.client.view.html",controller:"ChatController",controllerAs:"vm",data:{roles:["user","admin"],pageTitle:"Chat"}})}angular.module("chat.routes").config(routeConfig),routeConfig.$inject=["$stateProvider"]}();
!function(){"use strict";function ChatController($scope,$state,Authentication,Socket){function init(){Authentication.user||$state.go("home"),Socket.socket||Socket.connect(),Socket.on("chatMessage",function(message){vm.messages.unshift(message)}),$scope.$on("$destroy",function(){Socket.removeListener("chatMessage")})}function sendMessage(){var message={text:vm.messageText};Socket.emit("chatMessage",message),vm.messageText=""}var vm=this;vm.messages=[],vm.messageText="",vm.sendMessage=sendMessage,init()}angular.module("chat").controller("ChatController",ChatController),ChatController.$inject=["$scope","$state","Authentication","Socket"]}();
!function(){"use strict";function menuConfig(menuService){menuService.addMenuItem("topbar",{title:"Admin",state:"admin",type:"dropdown",roles:["admin"]})}angular.module("core.admin").run(menuConfig),menuConfig.$inject=["menuService"]}();
!function(){"use strict";function routeConfig($stateProvider){$stateProvider.state("admin",{"abstract":!0,url:"/admin",template:"<ui-view/>",data:{roles:["admin"]}})}angular.module("core.admin.routes").config(routeConfig),routeConfig.$inject=["$stateProvider"]}();
!function(){"use strict";function menuConfig(menuService){menuService.addMenu("account",{roles:["user"]}),menuService.addMenuItem("account",{title:"",state:"settings",type:"dropdown",roles:["user"]}),menuService.addSubMenuItem("account","settings",{title:"Edit Profile",state:"settings.profile"}),menuService.addSubMenuItem("account","settings",{title:"Edit Profile Picture",state:"settings.picture"}),menuService.addSubMenuItem("account","settings",{title:"Change Password",state:"settings.password"}),menuService.addSubMenuItem("account","settings",{title:"Manage Social Accounts",state:"settings.accounts"})}angular.module("core").run(menuConfig),menuConfig.$inject=["menuService"]}();
!function(){"use strict";function routeFilter($rootScope,$state,Authentication){function stateChangeStart(event,toState,toParams,fromState,fromParams){if(toState.data&&toState.data.roles&&toState.data.roles.length>0){for(var allowed=!1,i=0,roles=toState.data.roles;i<roles.length;i++)if("guest"===roles[i]||Authentication.user&&void 0!==Authentication.user.roles&&Authentication.user.roles.indexOf(roles[i])!==-1){allowed=!0;break}allowed||(event.preventDefault(),void 0!==Authentication.user&&"object"==typeof Authentication.user?$state.transitionTo("forbidden"):$state.go("authentication.signin").then(function(){storePreviousState(toState,toParams)}))}}function stateChangeSuccess(event,toState,toParams,fromState,fromParams){storePreviousState(fromState,fromParams)}function storePreviousState(state,params){state.data&&state.data.ignoreState||($state.previous={state:state,params:params,href:$state.href(state,params)})}$rootScope.$on("$stateChangeStart",stateChangeStart),$rootScope.$on("$stateChangeSuccess",stateChangeSuccess)}angular.module("core").run(routeFilter),routeFilter.$inject=["$rootScope","$state","Authentication"]}();
!function(){"use strict";function routeConfig($stateProvider,$urlRouterProvider){$urlRouterProvider.rule(function($injector,$location){var path=$location.path(),hasTrailingSlash=path.length>1&&"/"===path[path.length-1];if(hasTrailingSlash){var newPath=path.substr(0,path.length-1);$location.replace().path(newPath)}}),$urlRouterProvider.otherwise(function($injector,$location){$injector.get("$state").transitionTo("not-found",null,{location:!1})}),$stateProvider.state("home",{url:"/",views:{homeHeader:{templateUrl:"modules/core/client/views/homeHeader.client.view.html",controller:"HomeController",controllerAs:"vm"},"":{templateUrl:"modules/core/client/views/home.client.view.html",controller:"HomeController",controllerAs:"vm"}}}).state("not-found",{url:"/not-found",templateUrl:"modules/core/client/views/404.client.view.html",data:{ignoreState:!0,pageTitle:"Not-Found"}}).state("bad-request",{url:"/bad-request",templateUrl:"modules/core/client/views/400.client.view.html",data:{ignoreState:!0,pageTitle:"Bad-Request"}}).state("forbidden",{url:"/forbidden",templateUrl:"modules/core/client/views/403.client.view.html",data:{ignoreState:!0,pageTitle:"Forbidden"}})}angular.module("core.routes").config(routeConfig),routeConfig.$inject=["$stateProvider","$urlRouterProvider"]}();
!function(){"use strict";function HeaderController($scope,$state,Authentication,menuService){function stateChangeSuccess(){vm.isCollapsed=!1}var vm=this;vm.accountMenu=menuService.getMenu("account").items[0],vm.authentication=Authentication,vm.isCollapsed=!1,vm.menu=menuService.getMenu("topbar"),$scope.$on("$stateChangeSuccess",stateChangeSuccess)}angular.module("core").controller("HeaderController",HeaderController),HeaderController.$inject=["$scope","$state","Authentication","menuService"]}();
!function(){"use strict";function HomeController(){}angular.module("core").controller("HomeController",HomeController)}();
!function(){"use strict";function pageTitle($rootScope,$interpolate,$state){function link(scope,element){function listener(event,toState){var applicationCoreTitle="Sai Yang Tang",separeteBy=" - ";if(toState.data&&toState.data.pageTitle){var stateTitle=$interpolate(toState.data.pageTitle)($state.$current.locals.globals);element.html(applicationCoreTitle+separeteBy+stateTitle)}else element.html(applicationCoreTitle)}$rootScope.$on("$stateChangeSuccess",listener)}var directive={restrict:"A",link:link};return directive}angular.module("core").directive("pageTitle",pageTitle),pageTitle.$inject=["$rootScope","$interpolate","$state"]}();
!function(){"use strict";function showErrors($timeout,$interpolate){function compile(elem,attrs){function linkFn(scope,el,attrs,formCtrl){function checkValidity(event,name){if(angular.isUndefined(name)||formCtrl.$name===name)return initCheck=!0,showValidationMessages=!0,toggleClasses(formCtrl[inputName].$invalid)}function reset(event,name){if(angular.isUndefined(name)||formCtrl.$name===name)return $timeout(function(){el.removeClass("has-error"),el.removeClass("has-success"),showValidationMessages=!1},0,!1)}function toggleClasses(invalid){if(el.toggleClass("has-error",showValidationMessages&&invalid),showSuccess)return el.toggleClass("has-success",showValidationMessages&&!invalid)}var inputEl,inputName,inputNgEl,options,showSuccess,initCheck=!1,showValidationMessages=!1;if(options=scope.$eval(attrs.showErrors)||{},showSuccess=options.showSuccess||!1,inputEl=el[0].querySelector(".form-control[name]")||el[0].querySelector("[name]"),inputNgEl=angular.element(inputEl),inputName=$interpolate(inputNgEl.attr("name")||"")(scope),!inputName)throw new Error("show-errors element has no child input elements with a 'name' attribute class");scope.$watch(function(){return formCtrl[inputName]&&formCtrl[inputName].$invalid},toggleClasses),scope.$on("show-errors-check-validity",checkValidity),scope.$on("show-errors-reset",reset)}if(attrs.showErrors.indexOf("skipFormGroupCheck")===-1&&!elem.hasClass("form-group")&&!elem.hasClass("input-group"))throw new Error("show-errors element does not have the 'form-group' or 'input-group' class");return linkFn}var directive={restrict:"A",require:"^form",compile:compile};return directive}angular.module("core").directive("showErrors",showErrors),showErrors.$inject=["$timeout","$interpolate"]}();
!function(){"use strict";function menuService(){function addMenu(menuId,options){return options=options||{},service.menus[menuId]={roles:options.roles||service.defaultRoles,items:options.items||[],shouldRender:shouldRender},service.menus[menuId]}function addMenuItem(menuId,options){if(options=options||{},service.validateMenuExistence(menuId),service.menus[menuId].items.push({title:options.title||"",state:options.state||"",type:options.type||"item","class":options["class"],roles:null===options.roles||"undefined"==typeof options.roles?service.defaultRoles:options.roles,position:options.position||0,items:[],shouldRender:shouldRender}),options.items)for(var i in options.items)options.items.hasOwnProperty(i)&&service.addSubMenuItem(menuId,options.state,options.items[i]);return service.menus[menuId]}function addSubMenuItem(menuId,parentItemState,options){options=options||{},service.validateMenuExistence(menuId);for(var itemIndex in service.menus[menuId].items)service.menus[menuId].items[itemIndex].state===parentItemState&&service.menus[menuId].items[itemIndex].items.push({title:options.title||"",state:options.state||"",params:options.params||{},roles:null===options.roles||"undefined"==typeof options.roles?service.menus[menuId].items[itemIndex].roles:options.roles,position:options.position||0,shouldRender:shouldRender});return service.menus[menuId]}function getMenu(menuId){return service.validateMenuExistence(menuId),service.menus[menuId]}function init(){shouldRender=function(user){if(this.roles.indexOf("*")!==-1)return!0;if(!user)return!1;for(var userRoleIndex in user.roles)if(user.roles.hasOwnProperty(userRoleIndex))for(var roleIndex in this.roles)if(this.roles.hasOwnProperty(roleIndex)&&this.roles[roleIndex]===user.roles[userRoleIndex])return!0;return!1},addMenu("topbar",{roles:["*"]})}function removeMenu(menuId){service.validateMenuExistence(menuId),delete service.menus[menuId]}function removeMenuItem(menuId,menuItemState){service.validateMenuExistence(menuId);for(var itemIndex in service.menus[menuId].items)service.menus[menuId].items.hasOwnProperty(itemIndex)&&service.menus[menuId].items[itemIndex].state===menuItemState&&service.menus[menuId].items.splice(itemIndex,1);return service.menus[menuId]}function removeSubMenuItem(menuId,submenuItemState){service.validateMenuExistence(menuId);for(var itemIndex in service.menus[menuId].items)if(this.menus[menuId].items.hasOwnProperty(itemIndex))for(var subitemIndex in service.menus[menuId].items[itemIndex].items)this.menus[menuId].items[itemIndex].items.hasOwnProperty(subitemIndex)&&service.menus[menuId].items[itemIndex].items[subitemIndex].state===submenuItemState&&service.menus[menuId].items[itemIndex].items.splice(subitemIndex,1);return service.menus[menuId]}function validateMenuExistence(menuId){if(menuId&&menuId.length){if(service.menus[menuId])return!0;throw new Error("Menu does not exist")}throw new Error("MenuId was not provided")}var shouldRender,service={addMenu:addMenu,addMenuItem:addMenuItem,addSubMenuItem:addSubMenuItem,defaultRoles:["user","admin"],getMenu:getMenu,menus:{},removeMenu:removeMenu,removeMenuItem:removeMenuItem,removeSubMenuItem:removeSubMenuItem,validateMenuExistence:validateMenuExistence};return init(),service}angular.module("core").factory("menuService",menuService)}();
!function(){"use strict";function Socket(Authentication,$state,$timeout){function connect(){Authentication.user&&(service.socket=io())}function emit(eventName,data){service.socket&&service.socket.emit(eventName,data)}function on(eventName,callback){service.socket&&service.socket.on(eventName,function(data){$timeout(function(){callback(data)})})}function removeListener(eventName){service.socket&&service.socket.removeListener(eventName)}var service={connect:connect,emit:emit,on:on,removeListener:removeListener,socket:null};return connect(),service}angular.module("core").factory("Socket",Socket),Socket.$inject=["Authentication","$state","$timeout"]}();
!function(){"use strict";function menuConfig(menuService){menuService.addMenuItem("topbar",{title:"Exhibitions",state:"exhibitions",roles:["*"],position:2})}angular.module("exhibitions").run(menuConfig),menuConfig.$inject=["menuService"]}();
!function(){"use strict";function routeConfig($stateProvider){$stateProvider.state("exhibitions",{url:"/exhibitions",templateUrl:"modules/exhibitions/client/views/exhibitions.client.view.html",controller:"ExhibitionsController",controllerAs:"vm",data:{pageTitle:"Exhibitions"}})}angular.module("exhibitions.routes").config(routeConfig),routeConfig.$inject=["$stateProvider"]}();
!function(){"use strict";function ExhibitionsController($scope,$state,Authentication){function init(){}init()}angular.module("exhibitions").controller("ExhibitionsController",ExhibitionsController),ExhibitionsController.$inject=["$scope","$state","Authentication"]}();
!function(){"use strict";function menuConfig(Menus){Menus.addSubMenuItem("topbar","admin",{title:"Manage Paintings",state:"admin.paintings.list"})}angular.module("paintings.admin").run(menuConfig),menuConfig.$inject=["menuService"]}();
!function(){"use strict";function routeConfig($stateProvider){$stateProvider.state("admin.paintings",{"abstract":!0,url:"/paintings",template:"<ui-view/>"}).state("admin.paintings.list",{url:"",templateUrl:"modules/paintings/client/views/admin/list-paintings.client.view.html",controller:"PaintingsListController",controllerAs:"vm",data:{roles:["admin"]},resolve:{authorsResolve:getAuthors}}).state("admin.paintings.create",{url:"/create",templateUrl:"modules/paintings/client/views/admin/form-painting.client.view.html",controller:"PaintingsController",controllerAs:"vm",data:{roles:["admin"]},resolve:{paintingResolve:newPainting,authorsResolve:getAuthors}}).state("admin.paintings.edit",{url:"/:paintingId/edit",templateUrl:"modules/paintings/client/views/admin/form-painting.client.view.html",controller:"PaintingsController",controllerAs:"vm",data:{roles:["admin"]},resolve:{paintingResolve:getPainting,authorsResolve:getAuthors}})}function getPainting($stateParams,PaintingsService){return PaintingsService.get({paintingId:$stateParams.paintingId}).$promise}function getAuthors($stateParams,AuthorsService){return AuthorsService.query().$promise}function newPainting(PaintingsService){return new PaintingsService}angular.module("paintings.admin.routes").config(routeConfig),routeConfig.$inject=["$stateProvider"],getPainting.$inject=["$stateParams","PaintingsService"],getAuthors.$inject=["$stateParams","AuthorsService"],newPainting.$inject=["PaintingsService"]}();
!function(){"use strict";function menuConfig(menuService){menuService.addMenuItem("topbar",{title:"Collections",state:"paintings",type:"dropdown",roles:["*"],position:3}),menuService.addSubMenuItem("topbar","paintings",{title:"List Paintings",state:"paintings.list",roles:["*"]}),menuService.addSubMenuItem("topbar","paintings",{title:"List Bronzes",state:"paintings.list",roles:["*"]}),menuService.addSubMenuItem("topbar","paintings",{title:"List Zisha Teapot",state:"paintings.list",roles:["*"]}),menuService.addSubMenuItem("topbar","paintings",{title:"List Famille Rose",state:"paintings.list",roles:["*"]}),menuService.addSubMenuItem("topbar","paintings",{title:"List Enamel",state:"paintings.list",roles:["*"]}),menuService.addSubMenuItem("topbar","paintings",{title:"List Statues",state:"paintings.list",roles:["*"]}),menuService.addSubMenuItem("topbar","paintings",{title:"Others",state:"paintings.list",roles:["*"]})}angular.module("paintings").run(menuConfig),menuConfig.$inject=["menuService"]}();
!function(){"use strict";function routeConfig($stateProvider){$stateProvider.state("paintings",{"abstract":!0,url:"/paintings",template:"<ui-view/>"}).state("paintings.list",{url:"",templateUrl:"modules/paintings/client/views/list-paintings.client.view.html",controller:"PaintingsListController",controllerAs:"vm",data:{pageTitle:"Paintings List"},resolve:{authorsResolve:getAuthors}}).state("paintings.view",{url:"/:paintingId",templateUrl:"modules/paintings/client/views/view-painting.client.view.html",controller:"PaintingsController",controllerAs:"vm",resolve:{paintingResolve:getPainting,authorsResolve:getAuthors},data:{pageTitle:"Painting {{ paintingResolve.title }}"}})}function getPainting($stateParams,PaintingsService){return PaintingsService.get({paintingId:$stateParams.paintingId}).$promise}function getAuthors($stateParams,AuthorsService){return AuthorsService.query().$promise}angular.module("paintings.routes").config(routeConfig),routeConfig.$inject=["$stateProvider"],getPainting.$inject=["$stateParams","PaintingsService"],getAuthors.$inject=["$stateParams","AuthorsService"]}();
!function(){"use strict";function PaintingsListController($filter,PaintingsService,authors){function buildPager(){vm.pagedItems=[],vm.itemsPerPage=12,vm.currentPage=1,vm.figureOutItemsToDisplay()}function figureOutItemsToDisplay(){vm.filteredItems=$filter("filter")(vm.paintings,{$:vm.search}),vm.selectedDynasty&&"All"!==vm.selectedDynasty&&(vm.filteredItems=_.filter(vm.filteredItems,{author:{dynasty:vm.selectedDynasty}})),vm.selectedAuthor&&"All"!==vm.selectedAuthor&&(vm.filteredItems=_.filter(vm.filteredItems,{author:{name:vm.selectedAuthor}})),vm.filterLength=vm.filteredItems.length;var begin=(vm.currentPage-1)*vm.itemsPerPage,end=begin+vm.itemsPerPage;vm.pagedItems=vm.filteredItems.slice(begin,end)}function pageChanged(){vm.figureOutItemsToDisplay()}var vm=this;vm.buildPager=buildPager,vm.figureOutItemsToDisplay=figureOutItemsToDisplay,vm.pageChanged=pageChanged,PaintingsService.query(function(data){vm.paintings=data,vm.buildPager()}),vm.authors=authors,vm.authorList=_.map(authors,"name"),vm.dynastyList=_.map(_.uniqBy(authors,"dynasty"),"dynasty"),vm.authorList.unshift("All"),vm.dynastyList.unshift("All"),vm.selectedDynasty="All",vm.selectedAuthor="All",vm.updateForDynasty=function(){var filteredAuthors="All"===vm.selectedDynasty?authors:_.filter(authors,{dynasty:vm.selectedDynasty});vm.authorList=_.map(filteredAuthors,"name"),vm.authorList.unshift("All"),vm.selectedAuthor="All",vm.figureOutItemsToDisplay()},vm.updateForAuthor=function(){vm.figureOutItemsToDisplay()}}angular.module("paintings").controller("PaintingsListController",PaintingsListController),PaintingsListController.$inject=["$filter","PaintingsService","authorsResolve"]}();
!function(){"use strict";function PaintingsController($scope,painting,authors,Authentication){var vm=this;vm.painting=painting,vm.authentication=Authentication,vm.authors=authors,vm.error=null}angular.module("paintings").controller("PaintingsController",PaintingsController),PaintingsController.$inject=["$scope","paintingResolve","authorsResolve","Authentication"]}();
!function(){"use strict";function PaintingsService($resource){function createOrUpdate(painting){function onSuccess(painting){}function onError(errorResponse){var error=errorResponse.data;handleError(error)}return painting._id?painting.$update(onSuccess,onError):painting.$save(onSuccess,onError)}function handleError(error){console.log(error)}var Painting=$resource("api/paintings/:paintingId",{paintingId:"@_id"},{update:{method:"PUT"}});return angular.extend(Painting.prototype,{createOrUpdate:function(){var painting=this;return createOrUpdate(painting)}}),Painting}angular.module("paintings.services").factory("PaintingsService",PaintingsService),PaintingsService.$inject=["$resource"]}();
!function(){"use strict";function menuConfig(menuService){menuService.addSubMenuItem("topbar","admin",{title:"Manage Users",state:"admin.users"})}angular.module("users.admin").run(menuConfig),menuConfig.$inject=["menuService"]}();
!function(){"use strict";function routeConfig($stateProvider){function getUser($stateParams,AdminService){return AdminService.get({userId:$stateParams.userId}).$promise}$stateProvider.state("admin.users",{url:"/users",templateUrl:"modules/users/client/views/admin/list-users.client.view.html",controller:"UserListController",controllerAs:"vm",data:{pageTitle:"Users List"}}).state("admin.user",{url:"/users/:userId",templateUrl:"modules/users/client/views/admin/view-user.client.view.html",controller:"UserController",controllerAs:"vm",resolve:{userResolve:getUser},data:{pageTitle:"Edit {{ userResolve.displayName }}"}}).state("admin.user-edit",{url:"/users/:userId/edit",templateUrl:"modules/users/client/views/admin/edit-user.client.view.html",controller:"UserController",controllerAs:"vm",resolve:{userResolve:getUser},data:{pageTitle:"Edit User {{ userResolve.displayName }}"}}),getUser.$inject=["$stateParams","AdminService"]}angular.module("users.admin.routes").config(routeConfig),routeConfig.$inject=["$stateProvider"]}();
!function(){"use strict";function routeConfig($stateProvider){$stateProvider.state("settings",{"abstract":!0,url:"/settings",templateUrl:"modules/users/client/views/settings/settings.client.view.html",controller:"SettingsController",controllerAs:"vm",data:{roles:["user","admin"]}}).state("settings.profile",{url:"/profile",templateUrl:"modules/users/client/views/settings/edit-profile.client.view.html",controller:"EditProfileController",controllerAs:"vm",data:{pageTitle:"Settings"}}).state("settings.password",{url:"/password",templateUrl:"modules/users/client/views/settings/change-password.client.view.html",controller:"ChangePasswordController",controllerAs:"vm",data:{pageTitle:"Settings password"}}).state("settings.accounts",{url:"/accounts",templateUrl:"modules/users/client/views/settings/manage-social-accounts.client.view.html",controller:"SocialAccountsController",controllerAs:"vm",data:{pageTitle:"Settings accounts"}}).state("settings.picture",{url:"/picture",templateUrl:"modules/users/client/views/settings/change-profile-picture.client.view.html",controller:"ChangeProfilePictureController",controllerAs:"vm",data:{pageTitle:"Settings picture"}}).state("authentication",{"abstract":!0,url:"/authentication",templateUrl:"modules/users/client/views/authentication/authentication.client.view.html",controller:"AuthenticationController",controllerAs:"vm"}).state("authentication.signup",{url:"/signup",templateUrl:"modules/users/client/views/authentication/signup.client.view.html",controller:"AuthenticationController",controllerAs:"vm",data:{pageTitle:"Signup"}}).state("authentication.signin",{url:"/signin?err",templateUrl:"modules/users/client/views/authentication/signin.client.view.html",controller:"AuthenticationController",controllerAs:"vm",data:{pageTitle:"Signin"}}).state("password",{"abstract":!0,url:"/password",template:"<ui-view/>"}).state("password.forgot",{url:"/forgot",templateUrl:"modules/users/client/views/password/forgot-password.client.view.html",controller:"PasswordController",controllerAs:"vm",data:{pageTitle:"Password forgot"}}).state("password.reset",{"abstract":!0,url:"/reset",template:"<ui-view/>"}).state("password.reset.invalid",{url:"/invalid",templateUrl:"modules/users/client/views/password/reset-password-invalid.client.view.html",data:{pageTitle:"Password reset invalid"}}).state("password.reset.success",{url:"/success",templateUrl:"modules/users/client/views/password/reset-password-success.client.view.html",data:{pageTitle:"Password reset success"}}).state("password.reset.form",{url:"/:token",templateUrl:"modules/users/client/views/password/reset-password.client.view.html",controller:"PasswordController",controllerAs:"vm",data:{pageTitle:"Password reset form"}})}angular.module("users.routes").config(routeConfig),routeConfig.$inject=["$stateProvider"]}();
!function(){"use strict";function AuthenticationController($scope,$state,$http,$location,$window,Authentication,PasswordValidator){function signup(isValid){return vm.error=null,isValid?void $http.post("/api/auth/signup",vm.credentials).success(function(response){vm.authentication.user=response,$state.go($state.previous.state.name||"home",$state.previous.params)}).error(function(response){vm.error=response.message}):($scope.$broadcast("show-errors-check-validity","vm.userForm"),!1)}function signin(isValid){return vm.error=null,isValid?void $http.post("/api/auth/signin",vm.credentials).success(function(response){vm.authentication.user=response,$state.go($state.previous.state.name||"home",$state.previous.params)}).error(function(response){vm.error=response.message}):($scope.$broadcast("show-errors-check-validity","vm.userForm"),!1)}function callOauthProvider(url){$state.previous&&$state.previous.href&&(url+="?redirect_to="+encodeURIComponent($state.previous.href)),$window.location.href=url}var vm=this;vm.authentication=Authentication,vm.getPopoverMsg=PasswordValidator.getPopoverMsg,vm.signup=signup,vm.signin=signin,vm.callOauthProvider=callOauthProvider,vm.error=$location.search().err,vm.authentication.user&&$location.path("/")}angular.module("users").controller("AuthenticationController",AuthenticationController),AuthenticationController.$inject=["$scope","$state","$http","$location","$window","Authentication","PasswordValidator"]}();
!function(){"use strict";function PasswordController($scope,$stateParams,$http,$location,Authentication,PasswordValidator){function askForPasswordReset(isValid){return vm.success=vm.error=null,isValid?void $http.post("/api/auth/forgot",vm.credentials).success(function(response){vm.credentials=null,vm.success=response.message}).error(function(response){vm.credentials=null,vm.error=response.message}):($scope.$broadcast("show-errors-check-validity","vm.forgotPasswordForm"),!1)}function resetUserPassword(isValid){return vm.success=vm.error=null,isValid?void $http.post("/api/auth/reset/"+$stateParams.token,vm.passwordDetails).success(function(response){vm.passwordDetails=null,Authentication.user=response,$location.path("/password/reset/success")}).error(function(response){vm.error=response.message}):($scope.$broadcast("show-errors-check-validity","vm.resetPasswordForm"),!1)}var vm=this;vm.resetUserPassword=resetUserPassword,vm.askForPasswordReset=askForPasswordReset,vm.authentication=Authentication,vm.getPopoverMsg=PasswordValidator.getPopoverMsg,vm.authentication.user&&$location.path("/")}angular.module("users").controller("PasswordController",PasswordController),PasswordController.$inject=["$scope","$stateParams","$http","$location","Authentication","PasswordValidator"]}();
!function(){"use strict";function passwordValidator(PasswordValidator){function link(scope,element,attrs,ngModel){ngModel.$validators.requirements=function(password){var status=!0;if(password){var result=PasswordValidator.getResult(password),requirementsIdx=0,requirementsMeter=[{color:"danger",progress:"20"},{color:"warning",progress:"40"},{color:"info",progress:"60"},{color:"primary",progress:"80"},{color:"success",progress:"100"}];result.errors.length<requirementsMeter.length&&(requirementsIdx=requirementsMeter.length-result.errors.length-1),scope.requirementsColor=requirementsMeter[requirementsIdx].color,scope.requirementsProgress=requirementsMeter[requirementsIdx].progress,result.errors.length?(scope.getPopoverMsg=PasswordValidator.getPopoverMsg(),scope.passwordErrors=result.errors,status=!1):(scope.getPopoverMsg="",scope.passwordErrors=[],status=!0)}return status}}var directive={require:"ngModel",link:link};return directive}angular.module("users").directive("passwordValidator",passwordValidator),passwordValidator.$inject=["PasswordValidator"]}();
!function(){"use strict";function passwordVerify(){function link(scope,element,attrs,ngModel){scope.$watch(function(){var combined;return(scope.passwordVerify||ngModel)&&(combined=scope.passwordVerify+"_"+ngModel),combined},function(value){value&&(ngModel.$validators.passwordVerify=function(password){var origin=scope.passwordVerify;return origin===password})})}var directive={require:"ngModel",scope:{passwordVerify:"="},link:link};return directive}angular.module("users").directive("passwordVerify",passwordVerify)}();
!function(){"use strict";function lowercase(){function link(scope,element,attrs,modelCtrl){modelCtrl.$parsers.push(function(input){return input?input.toLowerCase():""}),element.css("text-transform","lowercase")}var directive={require:"ngModel",link:link};return directive}angular.module("users").directive("lowercase",lowercase)}();
!function(){"use strict";function Authentication($window){var auth={user:$window.user};return auth}angular.module("users.services").factory("Authentication",Authentication),Authentication.$inject=["$window"]}();
!function(){"use strict";function PasswordValidator($window){function getResult(password){var result=owaspPasswordStrengthTest.test(password);return result}function getPopoverMsg(){var popoverMsg="Please enter a passphrase or password with 10 or more characters, numbers, lowercase, uppercase, and special characters.";return popoverMsg}var owaspPasswordStrengthTest=$window.owaspPasswordStrengthTest,service={getResult:getResult,getPopoverMsg:getPopoverMsg};return service}angular.module("users.services").factory("PasswordValidator",PasswordValidator),PasswordValidator.$inject=["$window"]}();
!function(){"use strict";function UsersService($resource){return $resource("api/users",{},{update:{method:"PUT"}})}function AdminService($resource){return $resource("api/users/:userId",{userId:"@_id"},{update:{method:"PUT"}})}angular.module("users.services").factory("UsersService",UsersService),UsersService.$inject=["$resource"],angular.module("users.admin.services").factory("AdminService",AdminService),AdminService.$inject=["$resource"]}();
!function(){"use strict";function ArticlesController($scope,$state,$window,article,Authentication){function remove(){$window.confirm("Are you sure you want to delete?")&&vm.article.$remove($state.go("admin.articles.list"))}function save(isValid){function successCallback(res){$state.go("admin.articles.list")}function errorCallback(res){vm.error=res.data.message}return isValid?void vm.article.createOrUpdate().then(successCallback)["catch"](errorCallback):($scope.$broadcast("show-errors-check-validity","vm.form.articleForm"),!1)}var vm=this;vm.article=article,vm.authentication=Authentication,vm.error=null,vm.form={},vm.remove=remove,vm.save=save}angular.module("articles.admin").controller("ArticlesController",ArticlesController),ArticlesController.$inject=["$scope","$state","$window","articleResolve","Authentication"]}();
!function(){"use strict";function ArticlesListController(ArticlesService){var vm=this;vm.articles=ArticlesService.query()}angular.module("articles.admin").controller("ArticlesListController",ArticlesListController),ArticlesListController.$inject=["ArticlesService"]}();
!function(){"use strict";function AuthorsController($scope,$state,$window,author,Authentication){function remove(){$window.confirm("Are you sure you want to delete?")&&vm.author.$remove($state.go("admin.authors.list"))}function save(isValid){function successCallback(res){$state.go("admin.authors.list")}function errorCallback(res){vm.error=res.data.message}return isValid?void vm.author.createOrUpdate().then(successCallback)["catch"](errorCallback):($scope.$broadcast("show-errors-check-validity","vm.form.authorForm"),!1)}var vm=this;vm.author=author,vm.authentication=Authentication,vm.dynasties=["Xia","Shang","Zhou","Qin","Han","Three Kindoms","Sui","Tang","Yuan","Ming","Qing","Modern"],vm.error=null,vm.form={},vm.remove=remove,vm.save=save,vm.minvalue=1,vm.maxvalue=10}angular.module("authors.admin").controller("AuthorsController",AuthorsController),AuthorsController.$inject=["$scope","$state","$window","authorResolve","Authentication"]}();
!function(){"use strict";function AuthorsListController(AuthorsService){var vm=this;vm.authors=AuthorsService.query()}angular.module("authors").controller("AuthorsListController",AuthorsListController),AuthorsListController.$inject=["AuthorsService"]}();
!function(){"use strict";function authInterceptor($q,$injector,Authentication){function responseError(rejection){if(!rejection.config.ignoreAuthModule)switch(rejection.status){case 401:Authentication.user=null,$injector.get("$state").transitionTo("authentication.signin");break;case 403:$injector.get("$state").transitionTo("forbidden")}return $q.reject(rejection)}var service={responseError:responseError};return service}angular.module("core").factory("authInterceptor",authInterceptor),authInterceptor.$inject=["$q","$injector","Authentication"]}();
!function(){"use strict";function PaintingsListController($filter,PaintingsService,authors){function buildPager(){vm.pagedItems=[],vm.itemsPerPage=12,vm.currentPage=1,vm.figureOutItemsToDisplay()}function figureOutItemsToDisplay(){vm.filteredItems=$filter("filter")(vm.paintings,{$:vm.search}),vm.selectedDynasty&&"All"!==vm.selectedDynasty&&(vm.filteredItems=_.filter(vm.filteredItems,{author:{dynasty:vm.selectedDynasty}})),vm.selectedAuthor&&"All"!==vm.selectedAuthor&&(vm.filteredItems=_.filter(vm.filteredItems,{author:{name:vm.selectedAuthor}})),vm.filterLength=vm.filteredItems.length;var begin=(vm.currentPage-1)*vm.itemsPerPage,end=begin+vm.itemsPerPage;vm.pagedItems=vm.filteredItems.slice(begin,end)}function pageChanged(){vm.figureOutItemsToDisplay()}var vm=this;vm.buildPager=buildPager,vm.figureOutItemsToDisplay=figureOutItemsToDisplay,vm.pageChanged=pageChanged,PaintingsService.query(function(data){vm.paintings=data,vm.buildPager()}),vm.authors=authors,vm.authorList=_.map(authors,"name"),vm.dynastyList=_.map(_.uniqBy(authors,"dynasty"),"dynasty"),vm.authorList.unshift("All"),vm.dynastyList.unshift("All"),vm.selectedDynasty="All",vm.selectedAuthor="All",vm.updateForDynasty=function(){var filteredAuthors="All"===vm.selectedDynasty?authors:_.filter(authors,{dynasty:vm.selectedDynasty});vm.authorList=_.map(filteredAuthors,"name"),vm.authorList.unshift("All"),vm.selectedAuthor="All",vm.figureOutItemsToDisplay()},vm.updateForAuthor=function(){vm.figureOutItemsToDisplay()}}angular.module("paintings.admin").controller("PaintingsListController",PaintingsListController),PaintingsListController.$inject=["$filter","PaintingsService","authorsResolve"]}();
!function(){"use strict";function PaintingsController($scope,$timeout,$state,$window,painting,authors,Authentication,FileUploader){function onBeforeUploadItem(item){item.formData.push({paintingId:vm.painting._id})}function onAfterAddingFile(fileItem){if($window.FileReader){var fileReader=new FileReader;fileReader.readAsDataURL(fileItem._file),fileReader.onload=function(fileReaderEvent){$timeout(function(){vm.imageURL=fileReaderEvent.target.result},0)}}}function onSuccessItem(fileItem,response,status,headers){vm.success=!0,vm.user=Authentication.user=response,cancelUpload()}function onErrorItem(fileItem,response,status,headers){cancelUpload(),vm.error=response.message}function uploadProfilePicture(){vm.success=vm.error=null,vm.uploader.uploadAll()}function cancelUpload(){vm.uploader.clearQueue(),vm.imageURL=vm.painting.imageURL}function chooseDropDown(item,list,field){if(list&&list.length>0)for(var i=0;i<list.length;i++)if(list[i][field]===item[field])return list[i]}function remove(){$window.confirm("Are you sure you want to delete?")&&vm.painting.$remove($state.go("admin.paintings.list"))}function save(isValid){function successCallback(res){$state.go("admin.paintings.list")}function errorCallback(res){vm.error=res.data.message}return isValid?void vm.painting.createOrUpdate().then(successCallback)["catch"](errorCallback):($scope.$broadcast("show-errors-check-validity","vm.form.paintingForm"),!1)}var vm=this;vm.painting=painting,vm.authentication=Authentication,vm.authors=authors,vm.painting.author=vm.painting.author&&chooseDropDown(vm.painting.author,authors,"name"),vm.types=["Album, Ink on Paper","Hanging Scroll, Ink and Color on Paper"],vm.error=null,vm.form={},vm.remove=remove,vm.save=save,vm.imageURL=vm.painting.imageURL,vm.uploadProfilePicture=uploadProfilePicture,vm.cancelUpload=cancelUpload,vm.uploader=new FileUploader({url:"api/painting/picture",alias:"newPicture",painting:vm.painting,onAfterAddingFile:onAfterAddingFile,onSuccessItem:onSuccessItem,onErrorItem:onErrorItem}),vm.uploader.onBeforeUploadItem=onBeforeUploadItem,vm.uploader.filters.push({name:"imageFilter",fn:function(item,options){var type="|"+item.type.slice(item.type.lastIndexOf("/")+1)+"|";return"|jpg|png|jpeg|bmp|gif|".indexOf(type)!==-1}})}angular.module("paintings.admin").controller("PaintingsController",PaintingsController),PaintingsController.$inject=["$scope","$timeout","$state","$window","paintingResolve","authorsResolve","Authentication","FileUploader"]}();
!function(){"use strict";function UserListController($scope,$filter,AdminService){function buildPager(){vm.pagedItems=[],vm.itemsPerPage=15,vm.currentPage=1,vm.figureOutItemsToDisplay()}function figureOutItemsToDisplay(){vm.filteredItems=$filter("filter")(vm.users,{$:vm.search}),vm.filterLength=vm.filteredItems.length;var begin=(vm.currentPage-1)*vm.itemsPerPage,end=begin+vm.itemsPerPage;vm.pagedItems=vm.filteredItems.slice(begin,end)}function pageChanged(){vm.figureOutItemsToDisplay()}var vm=this;vm.buildPager=buildPager,vm.figureOutItemsToDisplay=figureOutItemsToDisplay,vm.pageChanged=pageChanged,AdminService.query(function(data){vm.users=data,vm.buildPager()})}angular.module("users.admin").controller("UserListController",UserListController),UserListController.$inject=["$scope","$filter","AdminService"]}();
!function(){"use strict";function UserController($scope,$state,$window,Authentication,user){function remove(user){$window.confirm("Are you sure you want to delete this user?")&&(user?(user.$remove(),vm.users.splice(vm.users.indexOf(user),1)):vm.user.$remove(function(){$state.go("admin.users")}))}function update(isValid){if(!isValid)return $scope.$broadcast("show-errors-check-validity","vm.userForm"),!1;var user=vm.user;user.$update(function(){$state.go("admin.user",{userId:user._id})},function(errorResponse){vm.error=errorResponse.data.message})}var vm=this;vm.authentication=Authentication,vm.user=user,vm.remove=remove,vm.update=update}angular.module("users.admin").controller("UserController",UserController),UserController.$inject=["$scope","$state","$window","Authentication","userResolve"]}();
!function(){"use strict";function ChangePasswordController($scope,$http,Authentication,PasswordValidator){function changeUserPassword(isValid){return vm.success=vm.error=null,isValid?void $http.post("/api/users/password",vm.passwordDetails).success(function(response){$scope.$broadcast("show-errors-reset","vm.passwordForm"),vm.success=!0,vm.passwordDetails=null}).error(function(response){vm.error=response.message}):($scope.$broadcast("show-errors-check-validity","vm.passwordForm"),!1)}var vm=this;vm.user=Authentication.user,vm.changeUserPassword=changeUserPassword,vm.getPopoverMsg=PasswordValidator.getPopoverMsg}angular.module("users").controller("ChangePasswordController",ChangePasswordController),ChangePasswordController.$inject=["$scope","$http","Authentication","PasswordValidator"]}();
!function(){"use strict";function ChangeProfilePictureController($scope,$timeout,$window,Authentication,FileUploader){function onAfterAddingFile(fileItem){if($window.FileReader){var fileReader=new FileReader;fileReader.readAsDataURL(fileItem._file),fileReader.onload=function(fileReaderEvent){$timeout(function(){vm.imageURL=fileReaderEvent.target.result},0)}}}function onSuccessItem(fileItem,response,status,headers){vm.success=!0,vm.user=Authentication.user=response,cancelUpload()}function onErrorItem(fileItem,response,status,headers){cancelUpload(),vm.error=response.message}function uploadProfilePicture(){vm.success=vm.error=null,vm.uploader.uploadAll()}function cancelUpload(){vm.uploader.clearQueue(),vm.imageURL=vm.user.profileImageURL}var vm=this;vm.user=Authentication.user,vm.imageURL=vm.user.profileImageURL,vm.uploadProfilePicture=uploadProfilePicture,vm.cancelUpload=cancelUpload,vm.uploader=new FileUploader({url:"api/users/picture",alias:"newProfilePicture",onAfterAddingFile:onAfterAddingFile,onSuccessItem:onSuccessItem,onErrorItem:onErrorItem}),vm.uploader.filters.push({name:"imageFilter",fn:function(item,options){var type="|"+item.type.slice(item.type.lastIndexOf("/")+1)+"|";return"|jpg|png|jpeg|bmp|gif|".indexOf(type)!==-1}})}angular.module("users").controller("ChangeProfilePictureController",ChangeProfilePictureController),ChangeProfilePictureController.$inject=["$scope","$timeout","$window","Authentication","FileUploader"]}();
!function(){"use strict";function EditProfileController($scope,$http,$location,UsersService,Authentication){function updateUserProfile(isValid){if(vm.success=vm.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","vm.userForm"),!1;var user=new UsersService(vm.user);user.$update(function(response){$scope.$broadcast("show-errors-reset","vm.userForm"),vm.success=!0,Authentication.user=response},function(response){vm.error=response.data.message})}var vm=this;vm.user=Authentication.user,vm.updateUserProfile=updateUserProfile}angular.module("users").controller("EditProfileController",EditProfileController),EditProfileController.$inject=["$scope","$http","$location","UsersService","Authentication"]}();
!function(){"use strict";function SocialAccountsController($scope,$http,Authentication){function hasConnectedAdditionalSocialAccounts(){return vm.user.additionalProvidersData&&Object.keys(vm.user.additionalProvidersData).length}function isConnectedSocialAccount(provider){return vm.user.provider===provider||vm.user.additionalProvidersData&&vm.user.additionalProvidersData[provider]}function removeUserSocialAccount(provider){vm.success=vm.error=null,$http["delete"]("/api/users/accounts",{params:{provider:provider}}).success(function(response){vm.success=!0,vm.user=Authentication.user=response}).error(function(response){vm.error=response.message})}var vm=this;vm.user=Authentication.user,vm.hasConnectedAdditionalSocialAccounts=hasConnectedAdditionalSocialAccounts,vm.isConnectedSocialAccount=isConnectedSocialAccount,vm.removeUserSocialAccount=removeUserSocialAccount}angular.module("users").controller("SocialAccountsController",SocialAccountsController),SocialAccountsController.$inject=["$scope","$http","Authentication"]}();
!function(){"use strict";function SettingsController($scope,Authentication){var vm=this;vm.user=Authentication.user}angular.module("users").controller("SettingsController",SettingsController),SettingsController.$inject=["$scope","Authentication"]}();
!function(){"use strict";function templates($templateCache){$templateCache.put("modules/articles/client/views/list-articles.client.view.html",'<section>\n  <div class="page-header">\n    <h1>Articles</h1>\n  </div>\n  <div class="list-group">\n    <a ng-repeat="article in vm.articles" ui-sref="articles.view({ articleId: article._id })" class="list-group-item">\n      <small class="list-group-item-text">\n        Posted on\n        <span ng-bind="article.created | date:\'mediumDate\'"></span>\n        by list\n        <span ng-if="article.user" ng-bind="article.user.displayName"></span>\n        <span ng-if="!article.user">Deleted User</span>\n      </small>\n      <h4 class="list-group-item-heading" ng-bind="article.title"></h4>\n      <p class="list-group-item-text" ng-bind="article.content"></p>\n    </a>\n  </div>\n</section>\n'),$templateCache.put("modules/articles/client/views/view-article.client.view.html",'<section>\n  <div class="page-header">\n    <h1 ng-bind="vm.article.title"></h1>\n  </div>\n  <small>\n    <em class="text-muted">\n      Posted on\n      <span ng-bind="vm.article.created | date:\'mediumDate\'"></span>\n      by view\n      <span ng-if="vm.article.user" ng-bind="vm.article.user.displayName"></span>\n      <span ng-if="!vm.article.user">Deleted User</span>\n    </em>\n  </small>\n  <p class="lead" ng-bind="vm.article.content"></p>\n</section>\n'),$templateCache.put("modules/chat/client/views/chat.client.view.html",'<!-- The chat view -->\n<section class="container">\n  <div class="page-header">\n    <h1>Chat Example</h1>\n  </div>\n  <!-- The message form -->\n  <form class="col-xs-12 col-md-offset-4 col-md-4" ng-submit="vm.sendMessage();">\n    <fieldset class="row">\n      <div class="input-group">\n        <input type="text" id="messageText" name="messageText" class="form-control" ng-model="vm.messageText" placeholder="Enter new message">\n        <span class="input-group-btn">\n          <button type="submit" class="btn btn-primary" ng-disabled="!vm.messageText.length">Submit</button>\n        </span>\n      </div>\n    </fieldset>\n  </form>\n  <ul class="list-unstyled">\n    <!-- List all messages -->\n    <li class="col-xs-12 col-md-offset-4 col-md-4 chat-message" ng-repeat="message in vm.messages">\n      <small class="pull-right text-muted" ng-bind="message.created | date:\'mediumTime\'"></small>\n      <img ng-src="{{message.profileImageURL}}" alt="{{message.username}}" class="pull-left chat-profile-image" />\n      <div class="pull-left chat-message-details">\n        <strong ng-bind="message.username"></strong>\n        <br>\n        <span ng-bind="message.text"></span>\n      </div>\n    </li>\n  </ul>\n</section>\n'),$templateCache.put("modules/about/client/views/about.client.view.html",'<!-- The about view -->\n<section class="container about-section">\n  <div class="page-header">\n    <h1>About Kwong Lum</h1>\n  </div>\n  <div class="text-center about-img">\n    <img src="modules/about/client/img/kwong.jpg" alt="Kwong Lum"/>\n  </div>\n  <p>Kwong Lum started collecting ancient Chinese artwork as a nine-year-old in Hong Kong under the guidance of his art teacher, Ding Yanyong, himself hailed as leading figure in the renewal of the ancient China tradition for modern expression and a fervent collector, who taught him Chinese painting, calligraphy and most of all, the appraisal and collection of Chinese antiques. Thus began his Sai Yang Tang Collection. </p>\n  <p>As a renowned Chinese artist, scholar and collector, Lum has immensely enlarged the volume of his collection by adding in ancient masters’ painting and calligraphy, bronzes, sculpture and porcelain ware of different dynasties, purchased throughout the world at auctions or from private collectors. Today, his Sai Yang Tang Collection in the United States, boasting of its invaluable art treasures of ancient China, enjoys a far-reaching reputation of “A Smaller-Sized Overseas Palace Museum.” In 1999, a Kwong Lum National Art Treasure Exhibition was held by Asian Cultural Center in New York, commemorating the 50th Anniversary on the formation of Sai Yang Tang Collection. </p>\n  <p>China’s CCTV “National Treasure Archives” program has made a special trip to New York to interview Lum and they documented four television episodes in the CCTV broadcast. </p>\n  <p>In 2012, Guangdong Government built a museum named “Kwong Lum Art Museum” at Jiangmen City. The museum opened in 2014 and houses Lum’s Paintings and treasures of Sai Yang Tang’s Collection. </p>\n  <p>Lum will be launching his On-Line Museum and hold series of Exhibitions of his Collection. The first will be on Ancient and Gilt Bronzes, with over one hundred Bronze pieces. This collection starts from the Qijia Culture at the end of the third millennium B.C., and Erlitou period up to Han Dynasty. Highlighted by rare and prestigious bronze objects with technical excellence, unsurpassed refinement, signifying political power, devout spiritual beliefs, and exalted social status.</p>\n  <!-- The message form -->\n  <!--<form class="col-xs-12 col-md-offset-4 col-md-4" ng-submit="vm.sendMessage();">\n    <fieldset class="row">\n      <div class="input-group">\n        <input type="text" id="messageText" name="messageText" class="form-control" ng-model="vm.messageText" placeholder="Enter new message">\n        <span class="input-group-btn">\n          <button type="submit" class="btn btn-primary" ng-disabled="!vm.messageText.length">Submit</button>\n        </span>\n      </div>\n    </fieldset>\n  </form>-->\n  <!--<ul class="list-unstyled">\n    <li class="col-xs-12 col-md-offset-4 col-md-4 chat-message" ng-repeat="message in vm.messages">\n      <small class="pull-right text-muted" ng-bind="message.created | date:\'mediumTime\'"></small>\n      <img ng-src="{{message.profileImageURL}}" alt="{{message.username}}" class="pull-left chat-profile-image" />\n      <div class="pull-left chat-message-details">\n        <strong ng-bind="message.username"></strong>\n        <br>\n        <span ng-bind="message.text"></span>\n      </div>\n    </li>\n  </ul>-->\n</section>\n'),$templateCache.put("modules/core/client/views/400.client.view.html",'<h1>Bad Request</h1>\n<div class="alert alert-danger" role="alert">\n  <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>\n  <span class="sr-only">Error:</span>\n  You made a bad request\n</div>\n'),$templateCache.put("modules/core/client/views/403.client.view.html",'<h1>Forbidden</h1>\n<div class="alert alert-danger" role="alert">\n  <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>\n  <span class="sr-only">Error:</span>\n  You are not authorized to access this resource\n</div>\n'),$templateCache.put("modules/core/client/views/404.client.view.html",'<h1>Page Not Found</h1>\n<div class="alert alert-danger" role="alert">\n  <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>\n  <span class="sr-only">Error:</span> Page Not Found\n</div>\n'),$templateCache.put("modules/core/client/views/footer.client.view.html",'<section class="text-center well">\n    <p>Tel. 212.867.7288 / 212.867.9388 | info@kwonglammuseumofart.org | External Link: <a target="_blank" href="http://www.gianguanauctions.com">www.gianguanauctions.com</a></p>\n    <p>Copyright © 2016 Art Collectors\' Gallery. All Rights Reserved.</p>\n</section>'),$templateCache.put("modules/core/client/views/header.client.view.html",'<div class="container" ng-controller="HeaderController as vm">\n  <div class="navbar-header">\n    <button class="navbar-toggle" type="button" ng-click="vm.isCollapsed = !vm.isCollapsed">\n      <span class="sr-only">Toggle navigation</span>\n      <span class="icon-bar"></span>\n      <span class="icon-bar"></span>\n      <span class="icon-bar"></span>\n    </button>\n    <a ui-sref="home" class="navbar-brand">Sai Yang Tang</a>\n  </div>\n  <nav class="navbar-collapse" uib-collapse="!vm.isCollapsed" role="navigation">\n    <ul class="nav navbar-nav" ng-if="vm.menu.shouldRender(vm.authentication.user);">\n      <li ng-repeat="item in vm.menu.items | orderBy: \'position\'" ng-if="item.shouldRender(vm.authentication.user);" ng-switch="item.type"\n        ng-class="{ dropdown: item.type === \'dropdown\' }" ui-sref-active="active" class="{{item.class}}" uib-dropdown="item.type === \'dropdown\'">\n        <a ng-switch-when="dropdown" class="dropdown-toggle" uib-dropdown-toggle role="button">{{::item.title}}&nbsp;<span class="caret"></span></a>\n        <ul ng-switch-when="dropdown" class="dropdown-menu">\n          <li ng-repeat="subitem in item.items | orderBy: \'position\'" ng-if="subitem.shouldRender(vm.authentication.user);">\n            <a ui-sref="{{subitem.state}}({{subitem.params}})" ng-bind="subitem.title"></a>\n          </li>\n        </ul>\n        <a ng-switch-default ui-sref="{{item.state}}" ng-bind="item.title"></a>\n      </li>\n    </ul>\n    <ul class="nav navbar-nav navbar-right" ng-hide="vm.authentication.user">\n      <li ui-sref-active="active">\n        <a ui-sref="authentication.signup">Sign Up</a>\n      </li>\n      <li class="divider-vertical"></li>\n      <li ui-sref-active="active">\n        <a ui-sref="authentication.signin">Sign In</a>\n      </li>\n    </ul>\n    <ul class="nav navbar-nav navbar-right" ng-show="vm.authentication.user">\n      <li class="dropdown" uib-dropdown>\n        <a class="dropdown-toggle user-header-dropdown-toggle" uib-dropdown-toggle role="button">\n          <img ng-src="{{vm.authentication.user.profileImageURL}}" alt="{{vm.authentication.user.displayName}}" class="header-profile-image"\n          />\n          <span ng-bind="vm.authentication.user.displayName"></span> <b class="caret"></b>\n        </a>\n        <ul class="dropdown-menu" role="menu">\n          <li ui-sref-active="active" ng-repeat="item in vm.accountMenu.items">\n            <a ui-sref="{{item.state}}" ng-bind="item.title"></a>\n          </li>\n          <li class="divider"></li>\n          <li>\n            <a href="/api/auth/signout" target="_self">Signout</a>\n          </li>\n        </ul>\n      </li>\n    </ul>\n  </nav>\n</div>\n'),$templateCache.put("modules/core/client/views/home.client.view.html",'<section class="container statement">\n  <h2 class="text-center">林緝光(世陽堂) 藝術網絡博物館成立感言</h2>\n  <p>"世陽堂" 在美國紐約數十年來一直被收藏家們稱為神秘 的 "海外小故宮"，現在開始捲起神秘深閉 的簾幕，成立 "林緝光(世陽堂)藝術網絡博物館"。 www.kwonglammuseumofart.org 在"中華盛世 "即將到來的時候，希能乘先啟後，為中華民族的古文\n    化與文明，傳遞輝煌的篇章。\n  </p>\n  <p>"世陽堂" 橫誇兩個世紀(20-21) 至今六十多年的收藏歲月中， 在海外一直追尋流落在西方的中華國寶，以高價收購 而秘藏之，若然有幸展現於國人面前，以慶祝中華文 化復興，此是我數十年之志願與 "世陽堂" 之宗旨。能 為我的祖國中華民族文化盡微薄之力，豈不樂哉！</p>\n  <br>\n  <br>\n  <p>林緝光 書於世陽堂中 2015-4-27 晨三時</p>\n\n</section>\n<section class="container">\n  <div class="row">\n    <div class="col-md-3 text-center collection-section">\n      <h3>Paintings</h3>\n      <a href="/paintings">\n        <img src="modules/core/client/img/painting.jpg">\n      </a>\n    </div>\n    <div class="col-md-3 text-center collection-section">\n      <h3>Bronzes</h3>\n      <img src="modules/core/client/img/bronze.jpg">\n    </div>\n    <div class="col-md-3 text-center collection-section">\n      <h3>Zisha Teapot</h3>\n      <img src="modules/core/client/img/teapot.jpg">\n    </div>\n    <div class="col-md-3 text-center collection-section">\n      <h3>Famille Rose</h3>\n      <img src="modules/core/client/img/rose.jpg">\n    </div>\n    <div class="col-md-3 text-center collection-section">\n      <h3>Enamel</h3>\n      <img src="modules/core/client/img/enamel.jpg">\n    </div>\n    <div class="col-md-3 text-center collection-section">\n      <h3>Statues</h3>\n      <img src="modules/core/client/img/statue.jpg">\n    </div>\n    <div class="col-md-3 text-center collection-section">\n      <h3>Others</h3>\n      <img src="modules/core/client/img/enamel.jpg">\n    </div>\n    <div class="col-md-3 text-center collection-section">\n      <h3>Coming Soon!</h3>\n      <img src="modules/core/client/img/enamel.jpg">\n    </div>\n  </div>\n</section>\n<!--<section class="container">\n  <div class="well">\n    <h2>MEAN.JS Documentation</h2>\n    <p>\n      Once you\'re familiar with the foundation technology, check out the MEAN.JS Documentation:\n      <ul>\n        <li><a target="_blank" href="http://meanjs.org/docs.html">MEAN.JS Documentation</a>\n        </li>\n        <li><a target="_blank" href="http://meanjs.org/generator.html">Yeoman Generator</a>\n        <li><a target="_blank" href="http://meanjs.org/modules.html">Modules</a>\n        </li>\n        <li><a target="_blank" href="http://meanjs.org/changelog.html">Changelog</a>\n        </li>\n        <li><a target="_blank" href="http://meanjs.org/community.html">Community</a>\n        </li>\n        <li><a target="_blank" href="http://blog.meanjs.org">Blog</a>\n        </li>\n      </ul>\n    </p>\n  </div>\n</section>-->'),$templateCache.put("modules/core/client/views/homeHeader.client.view.html",' <div class="text-center home-jumbotron">\n    <div class="row">\n      <div class="col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3 col-xs-offset-2 col-xs-8">\n        <!--<img alt="Sai Yang Tang" class="img-responsive text-center" src="modules/core/client/img/brand/logo.png" />-->\n        Kwong Lam (Sai Yang Tang) On-Line Museum of Art\n      </div>\n    </div>\n  </div>\n'),$templateCache.put("modules/exhibitions/client/views/exhibitions.client.view.html",'<!-- The about view -->\n<section class="container about-section">\n  <div class="page-header">\n    <h1>About Kwong Lum</h1>\n  </div>\n  <div class="text-center about-img">\n    <img src="modules/about/client/img/kwong.jpg" alt="Kwong Lum"/>\n  </div>\n  <p>Kwong Lum started collecting ancient Chinese artwork as a nine-year-old in Hong Kong under the guidance of his art teacher, Ding Yanyong, himself hailed as leading figure in the renewal of the ancient China tradition for modern expression and a fervent collector, who taught him Chinese painting, calligraphy and most of all, the appraisal and collection of Chinese antiques. Thus began his Sai Yang Tang Collection. </p>\n  <p>As a renowned Chinese artist, scholar and collector, Lum has immensely enlarged the volume of his collection by adding in ancient masters’ painting and calligraphy, bronzes, sculpture and porcelain ware of different dynasties, purchased throughout the world at auctions or from private collectors. Today, his Sai Yang Tang Collection in the United States, boasting of its invaluable art treasures of ancient China, enjoys a far-reaching reputation of “A Smaller-Sized Overseas Palace Museum.” In 1999, a Kwong Lum National Art Treasure Exhibition was held by Asian Cultural Center in New York, commemorating the 50th Anniversary on the formation of Sai Yang Tang Collection. </p>\n  <p>China’s CCTV “National Treasure Archives” program has made a special trip to New York to interview Lum and they documented four television episodes in the CCTV broadcast. </p>\n  <p>In 2012, Guangdong Government built a museum named “Kwong Lum Art Museum” at Jiangmen City. The museum opened in 2014 and houses Lum’s Paintings and treasures of Sai Yang Tang’s Collection. </p>\n  <p>Lum will be launching his On-Line Museum and hold series of Exhibitions of his Collection. The first will be on Ancient and Gilt Bronzes, with over one hundred Bronze pieces. This collection starts from the Qijia Culture at the end of the third millennium B.C., and Erlitou period up to Han Dynasty. Highlighted by rare and prestigious bronze objects with technical excellence, unsurpassed refinement, signifying political power, devout spiritual beliefs, and exalted social status.</p>\n  <!-- The message form -->\n  <!--<form class="col-xs-12 col-md-offset-4 col-md-4" ng-submit="vm.sendMessage();">\n    <fieldset class="row">\n      <div class="input-group">\n        <input type="text" id="messageText" name="messageText" class="form-control" ng-model="vm.messageText" placeholder="Enter new message">\n        <span class="input-group-btn">\n          <button type="submit" class="btn btn-primary" ng-disabled="!vm.messageText.length">Submit</button>\n        </span>\n      </div>\n    </fieldset>\n  </form>-->\n  <!--<ul class="list-unstyled">\n    <li class="col-xs-12 col-md-offset-4 col-md-4 chat-message" ng-repeat="message in vm.messages">\n      <small class="pull-right text-muted" ng-bind="message.created | date:\'mediumTime\'"></small>\n      <img ng-src="{{message.profileImageURL}}" alt="{{message.username}}" class="pull-left chat-profile-image" />\n      <div class="pull-left chat-message-details">\n        <strong ng-bind="message.username"></strong>\n        <br>\n        <span ng-bind="message.text"></span>\n      </div>\n    </li>\n  </ul>-->\n</section>\n'),$templateCache.put("modules/contact/client/views/contact.client.view.html",'<!-- The about view -->\n<section class="container about-section">\n  <div class="page-header">\n    <h1>Contact Us</h1>\n  </div>\n  <div class="text-center">\n    <div class="main-address">\n      <p>Gianguan Auctions/Art Collectors\' Gallery</p>\n      <p>39 West 56th Street</p>\n      <p>New York, NY 10019</p>   \n    </div>\n    <div class="secondary-address">\n      <p>Tel: 212.867.7288 / 212.867.9388</p>\n      <p>info@kwonglammuseumofart.org</p>\n      <p>info@gianguanauctions.com</p>\n      <p>www.gianguanauctions.com</p>\n    </div>\n\n<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3021.940472608466!2d-73.97852768459353!3d40.76333397932624!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c2590105c607cb%3A0xf8b2bf8de0429901!2zR2lhbmd1YW4gQXVjdGlvbnMg57SQ57SE6LKe6KeA5ZyL6Zqb5ouN6LOj5YWs5Y-4!5e0!3m2!1sen!2sus!4v1450307168414" width="500" height="300" frameborder="0" style="border:0" allowfullscreen=""></iframe>\n  </div>\n</section>'),$templateCache.put("modules/paintings/client/views/list-paintings.client.view.html",'<section class="grid-view">\n\t<div class="page-header">\n\t\t<h2>\n\t\t\tPaintings\n\t\t</h2>\n\t</div>\n\t<div class="row filter">\n\t\t<div class="col-sm-4 col-xs-12">\n\t\t\t<input type="text" class="form-control" placeholder="Search name..." ng-model="vm.search" ng-change="vm.figureOutItemsToDisplay()">\n\t\t</div>\n    <div class="col-sm-4 col-xs-12">\n\t\t\t<div class="input-group">\n\t\t\t\t<span class="input-group-addon">Dynasty</span>\n\t\t\t\t<select class="form-control" ng-model="vm.selectedDynasty" ng-change="vm.updateForDynasty()" ng-options="x for x in vm.dynastyList"></select>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="col-sm-4 col-xs-12">\n\t\t\t<div class="input-group">\n\t\t\t\t<span class="input-group-addon">Author</span>\n\t\t\t\t<select id="author" class="form-control" ng-model="vm.selectedAuthor" ng-change="vm.updateForAuthor()" ng-options="x for x in vm.authorList"></select>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="row">\n\t\t<div class="col-md-2 col-sm-4 col-xs-6" data-ng-repeat="painting in vm.pagedItems">\n\t\t\t<a data-ui-sref="paintings.view({paintingId: painting._id})" class="list-group-item">\n        <div class="list-image img-responsive">\n          <img ng-src="{{painting.imageURL}}" class="img-thumbnail"/>\n        </div>\n\t\t\t\t\n\t\t\t\t<strong>\n\t\t\t\t\t<span data-ng-bind="painting.name"></span>\n\t\t\t\t</strong>\n\t\t\t\t<small class="list-group-item-text">\n          <span ng-if="painting.author" ng-bind="painting.author.name"></span>\n        </small>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n\n\t<div class="alert alert-warning text-center" data-ng-if="paintings.$resolved && !paintings.length">\n\t\tNo painting found, please try to other filters.\n\t</div>\n\t\t<uib-pagination boundary-links="true" max-size="8" items-per-page="vm.itemsPerPage" total-items="vm.filterLength" ng-model="vm.currentPage"\n\t\tng-change="vm.pageChanged()"></uib-pagination>\n</section>'),$templateCache.put("modules/paintings/client/views/view-painting.client.view.html",'<section class="item-view">\n\t<div class="page-header">\n\t\t<h1 ng-bind="vm.painting.name"></h1>\n\t</div>\n\t<div class="text-center">\n\t\t<img class="img-responsive" src="{{vm.imageURL}}" alt="{{vm.painting.name}}">\n\t</div>\n\t<div class="img-responsive row lead">\n\t\t<div class="col-xs-4">\n\t\t\t<strong>Name:</strong>\n\t\t</div>\n    <div class="col-xs-8"> \n\t\t\t<span ng-bind="vm.painting.name"></span>\n\t\t</div>\n\t\t<div class="col-xs-4">\n\t\t\t<strong>Author:</strong>\n\t\t</div>\n    <div class="col-xs-8"> \n\t\t\t<span ng-bind="vm.painting.author.name"></span>\n\t\t</div>\n\t\t<div class="col-xs-4">\n\t\t\t<strong>Type:</strong>\n\t\t</div>\n    <div class="col-xs-8"> \n\t\t\t<span ng-bind="vm.painting.type"></span>\n\t\t</div>\n\t\t<div class="col-xs-4">\n\t\t\t<strong>Length:</strong>\n\t\t</div>\n    <div class="col-xs-8"> \n\t\t\t<span ng-bind="vm.painting.length"></span>&nbsp;in.\n\t\t</div>\n\t\t<div class="col-xs-4">\n\t\t\t<strong>Width:</strong>\n\t\t</div>\n    <div class="col-xs-8"> \n\t\t\t<span ng-bind="vm.painting.width"></span>&nbsp;in.\n\t\t</div>\n\t\t<div class="col-xs-4">\n\t\t\t<strong>Description:</strong>\n\t\t</div>\n    <div class="col-xs-8"> \n\t\t\t<span ng-bind="vm.painting.description"></span>\n\t\t</div>\n\t</div>\n\n</section>'),$templateCache.put("modules/articles/client/views/admin/form-article.client.view.html",'<section>\n  <div class="page-header">\n    <h1>{{vm.article._id ? \'Edit Article\' : \'New Article\'}}</h1>\n  </div>\n  <div class="pull-right">\n    <a class="btn btn-primary" ng-click="vm.remove()">\n      <i class="glyphicon glyphicon-trash"></i>\n    </a>\n  </div>\n  <div class="col-md-12">\n    <form name="vm.form.articleForm" class="form-horizontal" ng-submit="vm.save(vm.form.articleForm.$valid)" novalidate>\n      <fieldset>\n        <div class="form-group" show-errors>\n          <label class="control-label" for="title">Title</label>\n          <input name="title" type="text" ng-model="vm.article.title" id="title" class="form-control" placeholder="Title" required>\n          <div ng-messages="vm.form.articleForm.title.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">Article title is required.</p>\n          </div>\n        </div>\n        <div class="form-group">\n          <label class="control-label" for="content">Content</label>\n          <textarea name="content" data-ng-model="vm.article.content" id="content" class="form-control" cols="30" rows="10" placeholder="Content"></textarea>\n        </div>\n        <div class="form-group">\n          <button type="submit" class="btn btn-default">{{vm.article._id ? \'Update\' : \'Create\'}}</button>\n        </div>\n        <div ng-show="vm.error" class="text-danger">\n          <strong ng-bind="vm.error"></strong>\n        </div>\n      </fieldset>\n    </form>\n  </div>\n</section>\n'),$templateCache.put("modules/articles/client/views/admin/list-articles.client.view.html",'<section>\n  <div class="page-header">\n    <h1>\n      Articles\n      <a class="btn btn-primary pull-right" data-ui-sref="admin.articles.create">\n        <i class="glyphicon glyphicon-plus"></i>\n      </a>\n    </h1>\n  </div>\n  <div class="list-group">\n    <a data-ng-repeat="article in vm.articles" data-ui-sref="admin.articles.edit({articleId: article._id})" class="list-group-item">\n      <small class="list-group-item-text">\n        Posted on\n        <span data-ng-bind="article.created | date:\'mediumDate\'"></span>\n        by\n        <span ng-if="article.user" ng-bind="article.user.displayName"></span>\n        <span ng-if="!article.user">Deleted User</span>\n      </small>\n      <h4 class="list-group-item-heading" data-ng-bind="article.title"></h4>\n      <p class="list-group-item-text" data-ng-bind="article.content"></p>\n    </a>\n  </div>\n  <div class="alert alert-warning text-center" data-ng-if="articles.$resolved && !articles.length">\n    No articles yet, why don\'t you <a data-ui-sref="admin.articles.create">create one</a>?\n  </div>\n</section>\n'),$templateCache.put("modules/authors/client/views/admin/form-author.client.view.html",'<section>\n  <div class="page-header">\n    <h1>{{vm.author._id ? \'Edit Author\' : \'New Author\'}}</h1>\n  </div>\n  <div class="pull-right">\n    <a class="btn btn-primary" ng-click="vm.remove()">\n      <i class="glyphicon glyphicon-trash"></i>\n    </a>\n  </div>\n  <div class="col-md-12">\n    <form name="vm.form.authorForm" class="form-horizontal" ng-submit="vm.save(vm.form.authorForm.$valid)" novalidate>\n      <fieldset>\n        <div class="form-group" show-errors>\n          <label class="control-label" for="name">Name</label>\n          <input name="name" type="text" ng-model="vm.author.name" id="name" class="form-control" placeholder="Name" required>\n          <div ng-messages="vm.form.authorForm.name.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">Author name is required.</p>\n          </div>\n        </div>\n\n        <div class="form-group">\n          <label class="control-label" for="dynasty">Dynasty</label>\n          <select name="dynasty" id="dynasty" class="form-control" ng-model="vm.author.dynasty" ng-options="dynasty for dynasty in vm.dynasties"></select>\n        </div>\n        <div class="form-group" show-errors>\n          <label class="control-label" for="birthYear">Birth Year</label>\n          <input name="birthYear" type="number" ng-model="vm.author.birthYear" id="birthYear" class="form-control" placeholder="Birth Year"\n            min="-3000" , max="3000" , step="1" />\n          <div ng-messages="vm.form.authorForm.birthYear.$error" role="alert">\n            <p class="help-block error-text" ng-message="min max number">Please put in valid year.</p>\n          </div>\n        </div>\n\n        <div class="form-group" show-errors>\n          <label class="control-label" for="deadYear">Birth Year</label>\n          <input name="deadYear" type="number" ng-model="vm.author.deadYear" id="deadYear" class="form-control" placeholder="Birth Year"\n            min="-3000" , max="3000" , step="1" />\n          <div ng-messages="vm.form.authorForm.deadYear.$error" role="alert">\n            <p class="help-block error-text" ng-message="min max number">Please put in valid year.</p>\n          </div>\n        </div>\n\n        <div class="form-group">\n          <label class="control-label" for="Description">Description</label>\n          <textarea name="description" data-ng-model="vm.author.description" id="description" class="form-control" cols="30" rows="10"\n            placeholder="Description"></textarea>\n        </div>\n        <div class="form-group">\n          <button type="submit" class="btn btn-default">{{vm.author._id ? \'Update\' : \'Create\'}}</button>\n        </div>\n        <div ng-show="vm.error" class="text-danger">\n          <strong ng-bind="vm.error"></strong>\n        </div>\n      </fieldset>\n    </form>\n  </div>\n</section>'),$templateCache.put("modules/authors/client/views/admin/list-authors.client.view.html",'<section>\n  <div class="page-header">\n    <h1>\n      Authors\n      <a class="btn btn-primary pull-right" data-ui-sref="admin.authors.create">\n        <i class="glyphicon glyphicon-plus"></i>\n      </a>\n    </h1>\n  </div>\n  <div class="list-group">\n    <a data-ng-repeat="author in vm.authors" data-ui-sref="admin.authors.edit({authorId: author._id})" class="list-group-item">\n      <h4 class="list-group-item-heading" data-ng-bind="author.name"></h4>\n      <small class="list-group-item-text">\n        Dynasty:\n        <span ng-if="!author.dynasty">Unknown</span>\n        <span data-ng-bind="author.dynasty"></span>\n\n        <span ng-if="author.birthYear || author.deadYear">,</span>     \n        <span data-ng-bind="author.birthYear"></span>\n        <span ng-if="author.birthYear || author.deadYear">-</span>\n        <span data-ng-bind="author.deadYear"></span>\n\n      </small>\n     \n      <p class="list-group-item-text" data-ng-bind="author.description"></p>\n    </a>\n  </div>\n  <div class="alert alert-warning text-center" data-ng-if="authors.$resolved && !authors.length">\n    No authors yet, why don\'t you <a data-ui-sref="admin.authors.create">create one</a>?\n  </div>\n</section>\n'),$templateCache.put("modules/users/client/views/admin/edit-user.client.view.html",'<section>\n  <div class="page-header">\n    <h1>User <span ng-bind="vm.user.username"></span></h1>\n  </div>\n  <div class="col-md-12">\n    <form name="vm.userForm" ng-submit="vm.update(vm.userForm.$valid)" novalidate>\n      <fieldset>\n        <div class="form-group" show-errors>\n          <label for="firstName">First Name</label>\n          <input type="text" id="firstName" name="firstName" class="form-control" ng-model="vm.user.firstName" placeholder="First Name" required />\n          <div ng-messages="vm.userForm.firstName.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">First name is required.</p>\n          </div>\n        </div>\n        <div class="form-group" show-errors>\n          <label for="lastName">Last Name</label>\n          <input type="text" id="lastName" name="lastName" class="form-control" ng-model="vm.user.lastName" placeholder="Last Name" required />\n          <div ng-messages="vm.userForm.lastName.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">Last name is required.</p>\n          </div>\n        </div>\n        <div class="form-group" show-errors>\n          <label class="control-label" for="roles">Roles</label>\n          <div class="controls">\n            <input class="form-control" type="text" name="roles" ng-model="vm.user.roles" id="roles" ng-list required />\n            <div ng-messages="vm.userForm.roles.$error" role="alert">\n              <p class="help-block error-text" ng-message="required">At least one role is required.</p>\n            </div>\n          </div>\n        </div>\n        <div class="form-group">\n          <input type="submit" value="Update" class="btn btn-default">\n        </div>\n        <div ng-show="vm.error" class="text-danger">\n          <strong ng-bind="vm.error"></strong>\n        </div>\n      </fieldset>\n    </form>\n  </div>\n</section>\n'),$templateCache.put("modules/users/client/views/admin/list-users.client.view.html",'<section>\n  <div class="page-header">\n    <div class="row">\n      <div class="col-md-4">\n        <h1>Users</h1>\n      </div>\n      <div class="col-md-4" style="margin-top: 2em">\n        <input class="form-control col-md-4" type="text" ng-model="vm.search" placeholder="Search" ng-change="vm.figureOutItemsToDisplay()" />\n      </div>\n    </div>\n  </div>\n  <div class="list-group">\n    <a ng-repeat="user in vm.pagedItems" ui-sref="admin.user({userId: user._id})" class="list-group-item">\n      <h4 class="list-group-item-heading" ng-bind="user.username"></h4>\n      <p class="list-group-item-text pull-right small" ng-bind="user.roles"></p>\n      <p class="list-group-item-text" ng-bind="user.email"></p>\n    </a>\n  </div>\n\n  <uib-pagination boundary-links="true" max-size="8" items-per-page="vm.itemsPerPage" total-items="vm.filterLength" ng-model="vm.currentPage" ng-change="vm.pageChanged()"></uib-pagination>\n</section>\n'),$templateCache.put("modules/users/client/views/admin/view-user.client.view.html",'<section>\n  <div class="page-header">\n    <div class="row">\n      <div class="col-md-6">\n        <h1 ng-bind="vm.user.username"></h1>\n      </div>\n      <div class="col-md-4">\n        <a class="btn btn-primary" ui-sref="admin.user-edit({userId: vm.user._id})">\n          <i class="glyphicon glyphicon-edit"></i>\n        </a>\n        <a class="btn btn-primary" ng-click="vm.remove()" ng-if="vm.user._id !== vm.authentication.user._id">\n          <i class="glyphicon glyphicon-trash"></i>\n        </a>\n      </div>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-md-8">\n      <div class="row">\n        <div class="col-md-3"><strong>First Name</strong></div>\n        <div class="col-md-6" ng-bind="vm.user.firstName"></div>\n      </div>\n      <hr/>\n      <div class="row">\n        <div class="col-md-3"><strong>Last Name</strong></div>\n        <div class="col-md-6" ng-bind="vm.user.lastName"></div>\n      </div>\n      <hr/>\n      <div class="row">\n        <div class="col-md-3"><strong>Email</strong></div>\n        <div class="col-md-6" ng-bind="vm.user.email"></div>\n      </div>\n      <hr/>\n      <div class="row">\n        <div class="col-md-3"><strong>Provider</strong></div>\n        <div class="col-md-6" ng-bind="vm.user.provider"></div>\n      </div>\n      <hr/>\n      <div class="row">\n        <div class="col-md-3"><strong>Created</strong></div>\n        <div class="col-md-6" ng-bind="vm.user.created"></div>\n      </div>\n      <hr/>\n      <div class="row">\n        <div class="col-md-3"><strong>Roles</strong></div>\n        <div class="col-md-6" ng-bind="vm.user.roles"></div>\n      </div>\n    </div>\n  </div>\n</section>\n'),
$templateCache.put("modules/users/client/views/authentication/authentication.client.view.html",'<section class="row">\n  <h3 class="col-md-12 text-center">Sign in using your social accounts</h3>\n  <div class="col-md-12 text-center">\n    <img ng-click="vm.callOauthProvider(\'/api/auth/facebook\')" ng-src="/modules/users/client/img/buttons/facebook.png">\n    <img ng-click="vm.callOauthProvider(\'/api/auth/twitter\')" ng-src="/modules/users/client/img/buttons/twitter.png">\n    <img ng-click="vm.callOauthProvider(\'/api/auth/google\')" ng-src="/modules/users/client/img/buttons/google.png">\n    <img ng-click="vm.callOauthProvider(\'/api/auth/linkedin\')" ng-src="/modules/users/client/img/buttons/linkedin.png">\n    <img ng-click="vm.callOauthProvider(\'/api/auth/github\')" ng-src="/modules/users/client/img/buttons/github.png">\n    <img ng-click="vm.callOauthProvider(\'/api/auth/paypal\')"  ng-src="/modules/users/client/img/buttons/paypal.png">\n  </div>\n  <div ui-view></div>\n</section>\n'),$templateCache.put("modules/users/client/views/authentication/signin.client.view.html",'<div>\n  <h3 class="col-md-12 text-center">Or with your account</h3>\n  <div class="col-xs-offset-2 col-xs-8 col-md-offset-4 col-md-4">\n    <form name="vm.userForm" ng-submit="vm.signin(vm.userForm.$valid)" class="signin" novalidate autocomplete="off">\n      <fieldset>\n        <div class="form-group" show-errors>\n          <label for="username">Username</label>\n          <input type="text" id="username" name="username" class="form-control" ng-model="vm.credentials.username" placeholder="Username" lowercase required>\n          <div ng-messages="vm.userForm.username.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">Username is required.</p>\n          </div>\n        </div>\n        <div class="form-group" show-errors>\n          <label for="password">Password</label>\n          <input type="password" id="password" name="password" class="form-control" ng-model="vm.credentials.password" placeholder="Password" required>\n          <div ng-messages="vm.userForm.password.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">Password is required.</p>\n          </div>\n        </div>\n        <div class="text-center form-group">\n          <button type="submit" class="btn btn-primary">Sign in</button>\n          &nbsp; or&nbsp;\n          <a ui-sref="authentication.signup">Sign up</a>\n        </div>\n        <div class="text-center forgot-password">\n          <a ui-sref="password.forgot">Forgot your password?</a>\n        </div>\n        <uib-alert type="danger" ng-show="vm.error" class="text-center text-danger">\n          <span ng-bind="vm.error"></span>\n        </uib-alert>\n      </fieldset>\n    </form>\n  </div>\n</div>\n'),$templateCache.put("modules/users/client/views/authentication/signup.client.view.html",'<div>\n  <h3 class="col-md-12 text-center">Or sign up using your email</h3>\n  <div class="col-xs-offset-2 col-xs-8 col-md-offset-4 col-md-4">\n    <form name="vm.userForm" ng-submit="vm.signup(vm.userForm.$valid)" class="signin" novalidate autocomplete="off">\n      <fieldset>\n        <div class="form-group" show-errors>\n          <label for="firstName">First Name</label>\n          <input type="text" id="firstName" name="firstName" class="form-control" ng-model="vm.credentials.firstName" placeholder="First Name" required>\n          <div ng-messages="vm.userForm.firstName.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">First name is required.</p>\n          </div>\n        </div>\n        <div class="form-group" show-errors>\n          <label for="lastName">Last Name</label>\n          <input type="text" id="lastName" name="lastName" class="form-control" ng-model="vm.credentials.lastName" placeholder="Last Name" required>\n          <div ng-messages="vm.userForm.lastName.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">Last name is required.</p>\n          </div>\n        </div>\n        <div class="form-group" show-errors>\n          <label for="email">Email</label>\n          <input type="email" id="email" name="email" class="form-control" ng-model="vm.credentials.email" placeholder="Email" lowercase required>\n          <div ng-messages="vm.userForm.email.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">Email address is required.</p>\n            <p class="help-block error-text" ng-message="email">Email address is invalid.</p>\n          </div>\n        </div>\n        <div class="form-group" show-errors>\n          <label for="username">Username</label>\n          <input type="text" id="username" name="username" class="form-control" ng-model="vm.credentials.username" placeholder="Username" lowercase required>\n          <div ng-messages="vm.userForm.username.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">Username is required.</p>\n          </div>\n        </div>\n        <div class="form-group" show-errors>\n          <label for="password">Password</label>\n            <input type="password" id="password" name="password" class="form-control" ng-model="vm.credentials.password" placeholder="Password" uib-popover="{{vm.getPopoverMsg()}}" uib-popover-trigger="focus" password-validator required>\n          <div ng-messages="vm.userForm.password.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">Password is required.</p>\n            <div ng-repeat="passwordError in passwordErrors">\n              <p class="help-block error-text" ng-show="vm.userForm.password.$error.requirements">{{passwordError}}</p>\n            </div>\n          </div>\n        </div>\n        <div class="form-group" ng-show="!vm.userForm.password.$error.required">\n          <label>Password Requirements</label>\n          <uib-progressbar value="requirementsProgress" type="{{requirementsColor}}"><span style="color:white; white-space:nowrap;">{{requirementsProgress}}%</span></uib-progressbar>\n        </div>\n        <div class="text-center form-group">\n          <button type="submit" class="btn btn-primary">Sign up</button>\n          &nbsp; or&nbsp;\n          <a ui-sref="authentication.signin" class="show-signup">Sign in</a>\n        </div>\n        <div ng-show="vm.error" class="text-center text-danger">\n          <strong ng-bind="vm.error"></strong>\n        </div>\n      </fieldset>\n    </form>\n  </div>\n</div>\n'),$templateCache.put("modules/users/client/views/password/forgot-password.client.view.html",'<section class="row">\n  <h3 class="col-md-12 text-center">Restore your password</h3>\n  <p class="small text-center">Enter your account username.</p>\n  <div class="col-xs-offset-2 col-xs-8 col-md-offset-5 col-md-2">\n    <form name="vm.forgotPasswordForm" ng-submit="vm.askForPasswordReset(vm.forgotPasswordForm.$valid)" class="form-horizontal" novalidate autocomplete="off">\n      <fieldset>\n        <div class="form-group" show-errors>\n          <input type="text" id="username" name="username" class="form-control" ng-model="vm.credentials.username" placeholder="Username" lowercase required>\n          <div ng-messages="vm.forgotPasswordForm.username.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">Enter a username.</p>\n          </div>\n        </div>\n        <div class="text-center form-group">\n          <button type="submit" class="btn btn-primary">Submit</button>\n        </div>\n        <div ng-show="vm.error" class="text-center text-danger">\n          <strong ng-bind="vm.error"></strong>\n        </div>\n        <div ng-show="vm.success" class="text-center text-success">\n          <strong ng-bind="vm.success"></strong>\n        </div>\n      </fieldset>\n    </form>\n  </div>\n</section>\n'),$templateCache.put("modules/users/client/views/password/reset-password-invalid.client.view.html",'<section class="row text-center">\n  <h3 class="col-md-12">Password reset is invalid</h3>\n  <a ui-sref="password.forgot" class="col-md-12">Ask for a new password reset</a>\n</section>\n'),$templateCache.put("modules/users/client/views/password/reset-password-success.client.view.html",'<section class="row text-center">\n  <h3 class="col-md-12">Password successfully reset</h3>\n  <a ui-sref="home" class="col-md-12">Continue to home page</a>\n</section>\n'),$templateCache.put("modules/users/client/views/password/reset-password.client.view.html",'<section class="row">\n  <h3 class="col-md-12 text-center">Reset your password</h3>\n  <div class="col-xs-offset-2 col-xs-8 col-md-offset-4 col-md-4">\n    <form name="vm.resetPasswordForm" ng-submit="vm.resetUserPassword(vm.resetPasswordForm.$valid)" class="signin form-horizontal" novalidate autocomplete="off">\n      <fieldset>\n        <div class="form-group" show-errors>\n          <label for="newPassword">New Password</label>\n          <input type="password" id="newPassword" name="newPassword" class="form-control" ng-model="vm.passwordDetails.newPassword" placeholder="New Password" autocomplete="new-password" uib-popover="{{vm.getPopoverMsg()}}" uib-popover-trigger="focus" uib-popover-placement="top" password-validator required>\n          <div ng-messages="vm.resetPasswordForm.newPassword.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">Enter a new password.</p>\n            <div ng-repeat="passwordError in passwordErrors">\n              <p class="help-block error-text" ng-show="vm.resetPasswordForm.newPassword.$error.requirements">{{passwordError}}</p>\n            </div>\n          </div>\n        </div>\n        <div class="form-group" show-errors>\n          <label for="verifyPassword">Verify Password</label>\n          <input type="password" id="verifyPassword" name="verifyPassword" class="form-control" ng-model="vm.passwordDetails.verifyPassword" placeholder="Verify Password" password-verify="vm.passwordDetails.newPassword" required>\n          <div ng-messages="vm.resetPasswordForm.verifyPassword.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">Enter the password again to verify.</p>\n            <p class="help-block error-text" ng-show="vm.resetPasswordForm.verifyPassword.$error.passwordVerify">Passwords do not match.</p>\n          </div>\n        </div>\n        <div class="form-group" ng-show="!vm.resetPasswordForm.newPassword.$error.required">\n          <label>Password Requirements</label>\n          <uib-progressbar value="requirementsProgress" type="{{requirementsColor}}"><span style="color:white; white-space:nowrap;">{{requirementsProgress}}%</span></uib-progressbar>\n        </div>\n        <div class="text-center form-group">\n          <button type="submit" class="btn btn-primary">Update Password</button>\n        </div>\n        <div ng-show="error" class="text-center text-danger">\n          <strong ng-bind="vm.error"></strong>\n        </div>\n        <div ng-show="success" class="text-center text-success">\n          <strong ng-bind="vm.success"></strong>\n        </div>\n      </fieldset>\n    </form>\n  </div>\n</section>\n'),$templateCache.put("modules/users/client/views/settings/change-password.client.view.html",'<section class="row">\n  <div class="col-xs-offset-1 col-xs-10 col-md-offset-4 col-md-4">\n    <form name="vm.passwordForm" ng-submit="vm.changeUserPassword(vm.passwordForm.$valid)" class="signin" novalidate autocomplete="off">\n      <fieldset>\n        <div class="form-group" show-errors>\n          <label for="currentPassword">Current Password</label>\n          <input type="password" id="currentPassword" name="currentPassword" class="form-control" ng-model="vm.passwordDetails.currentPassword" placeholder="Current Password" required>\n          <div ng-messages="vm.passwordForm.currentPassword.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">Your current password is required.</p>\n          </div>\n        </div>\n        <div class="form-group" show-errors>\n          <label for="newPassword">New Password</label>\n          <input type="password" id="newPassword" name="newPassword" class="form-control" ng-model="vm.passwordDetails.newPassword" placeholder="New Password" uib-popover="{{vm.getPopoverMsg()}}" uib-popover-trigger="focus" password-validator required>\n          <div ng-messages="vm.passwordForm.newPassword.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">Enter a new password.</p>\n            <div ng-repeat="passwordError in passwordErrors">\n              <p class="help-block error-text" ng-show="vm.passwordForm.newPassword.$error.requirements">{{passwordError}}</p>\n            </div>\n          </div>\n        </div>\n        <div class="form-group" show-errors>\n          <label for="verifyPassword">Verify Password</label>\n          <input type="password" id="verifyPassword" name="verifyPassword" class="form-control" ng-model="vm.passwordDetails.verifyPassword" placeholder="Verify Password" password-verify="vm.passwordDetails.newPassword" required>\n          <div ng-messages="vm.passwordForm.verifyPassword.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">Verify your new password.</p>\n            <p class="help-block error-text" ng-show="vm.passwordForm.verifyPassword.$error.passwordVerify">Passwords do not match.</p>\n          </div>\n        </div>\n        <div class="form-group" ng-show="!vm.passwordForm.newPassword.$error.required">\n          <label>Password Requirements</label>\n          <uib-progressbar value="requirementsProgress" type="{{requirementsColor}}"><span style="color:white; white-space:nowrap;">{{requirementsProgress}}%</span></uib-progressbar>\n        </div>\n        <div class="text-center form-group">\n          <button type="submit" class="btn btn-primary">Save Password</button>\n        </div>\n        <div ng-show="vm.success" class="text-center text-success">\n          <strong>Password Changed Successfully</strong>\n        </div>\n        <div ng-show="vm.error" class="text-center text-danger">\n          <strong ng-bind="vm.error"></strong>\n        </div>\n      </fieldset>\n    </form>\n  </div>\n</section>\n'),$templateCache.put("modules/users/client/views/settings/change-profile-picture.client.view.html",'<section class="row">\n  <div class="col-xs-offset-1 col-xs-10 col-md-offset-3 col-md-4">\n    <form class="signin form-horizontal">\n      <fieldset>\n        <div class="form-group text-center">\n          <img ng-src="{{vm.imageURL}}" alt="{{vm.user.displayName}}" class="img-thumbnail user-profile-picture">\n        </div>\n        <div class="text-center form-group" ng-hide="vm.uploader.queue.length">\n          <span class="btn btn-default btn-file">\n              Select Image <input type="file" nv-file-select uploader="vm.uploader">\n          </span>\n        </div>\n        <div class="text-center form-group" ng-show="vm.uploader.queue.length">\n          <button class="btn btn-primary" ng-click="vm.uploadProfilePicture();">Upload</button>\n          <button class="btn btn-default" ng-click="vm.cancelUpload();">Cancel</button>\n        </div>\n        <div ng-show="vm.success" class="text-center text-success">\n          <strong>Profile Picture Changed Successfully</strong>\n        </div>\n        <div ng-show="vm.error" class="text-center text-danger">\n          <strong ng-bind="vm.error"></strong>\n        </div>\n      </fieldset>\n    </form>\n  </div>\n</section>\n'),$templateCache.put("modules/users/client/views/settings/edit-profile.client.view.html",'<section class="row">\n  <div class="col-xs-offset-1 col-xs-10 col-md-offset-4 col-md-4">\n    <form name="vm.userForm" ng-submit="vm.updateUserProfile(vm.userForm.$valid)" class="signin" novalidate autocomplete="off">\n      <fieldset>\n        <div class="form-group" show-errors>\n          <label for="firstName">First Name</label>\n          <input type="text" id="firstName" name="firstName" class="form-control" ng-model="vm.user.firstName" placeholder="First Name" required>\n          <div ng-messages="vm.userForm.firstName.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">First name is required.</p>\n          </div>\n        </div>\n        <div class="form-group" show-errors>\n          <label for="lastName">Last Name</label>\n          <input type="text" id="lastName" name="lastName" class="form-control" ng-model="vm.user.lastName" placeholder="Last Name" required>\n          <div ng-messages="vm.userForm.lastName.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">Last name is required.</p>\n          </div>\n        </div>\n        <div class="form-group" show-errors>\n          <label for="email">Email</label>\n          <input type="email" id="email" name="email" class="form-control" ng-model="vm.user.email" placeholder="Email" lowercase required>\n          <div ng-messages="vm.userForm.email.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">Email address is required.</p>\n            <p class="help-block error-text" ng-message="email">Email address is invalid.</p>\n          </div>\n        </div>\n        <div class="form-group" show-errors>\n          <label for="username">Username</label>\n          <input type="text" id="username" name="username" class="form-control" ng-model="vm.user.username" placeholder="Username" lowercase required>\n          <div ng-messages="vm.userForm.username.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">Username is required.</p>\n          </div>\n        </div>\n        <div class="text-center form-group">\n          <button type="submit" class="btn btn-primary">Save Profile</button>\n        </div>\n        <div ng-show="vm.success" class="text-center text-success">\n          <strong>Profile Saved Successfully</strong>\n        </div>\n        <div ng-show="vm.error" class="text-center text-danger">\n          <strong ng-bind="vm.error"></strong>\n        </div>\n      </fieldset>\n    </form>\n  </div>\n</section>\n'),$templateCache.put("modules/users/client/views/settings/manage-social-accounts.client.view.html",'<section class="row">\n  <h3 class="col-md-12 text-center" ng-show="vm.hasConnectedAdditionalSocialAccounts()">Connected social accounts:</h3>\n  <div class="col-md-12 text-center">\n    <!-- If the user\'s provider field (primary) is a social account, show it here -->\n    <div ng-hide="vm.user.provider === \'local\'" class="social-account-container">\n      <img ng-src="/modules/users/client/img/buttons/{{vm.user.provider}}.png">\n      <i class="glyphicon glyphicon-check text-success user-primary-account" data-toggle="popover" title="Primary: {{vm.user.provider}}"></i>\n    </div>\n    <div ng-repeat="(providerName, providerData) in vm.user.additionalProvidersData" class="social-account-container">\n      <img ng-src="/modules/users/client/img/buttons/{{providerName}}.png">\n      <a class="btn btn-danger btn-remove-account" ng-click="vm.removeUserSocialAccount(providerName)">\n        <i class="glyphicon glyphicon-trash"></i>\n      </a>\n    </div>\n  </div>\n  <h3 class="col-md-12 text-center" ng-show="vm.hasConnectedAdditionalSocialAccounts()">Unconnected social accounts:</h3>\n  <div class="col-md-12 text-center">\n    <div class="social-account-container" ng-hide="vm.isConnectedSocialAccount(\'facebook\')">\n      <img ng-src="/modules/users/client/img/buttons/facebook.png">\n      <a class="btn btn-success btn-remove-account" href="/api/auth/facebook" target="_self">\n        <i class="glyphicon glyphicon-plus"></i>\n      </a>\n    </div>\n    <div class="social-account-container" ng-hide="vm.isConnectedSocialAccount(\'twitter\')">\n      <img ng-src="/modules/users/client/img/buttons/twitter.png">\n      <a class="btn btn-success btn-remove-account" href="/api/auth/twitter" target="_self">\n        <i class="glyphicon glyphicon-plus"></i>\n      </a>\n    </div>\n    <div class="social-account-container" ng-hide="vm.isConnectedSocialAccount(\'google\')">\n      <img ng-src="/modules/users/client/img/buttons/google.png">\n      <a class="btn btn-success btn-remove-account" href="/api/auth/google" target="_self">\n        <i class="glyphicon glyphicon-plus"></i>\n      </a>\n    </div>\n    <div class="social-account-container" ng-hide="vm.isConnectedSocialAccount(\'linkedin\')">\n      <img ng-src="/modules/users/client/img/buttons/linkedin.png">\n      <a class="btn btn-success btn-remove-account" href="/api/auth/linkedin" target="_self">\n        <i class="glyphicon glyphicon-plus"></i>\n      </a>\n    </div>\n    <div class="social-account-container" ng-hide="vm.isConnectedSocialAccount(\'github\')">\n      <img ng-src="/modules/users/client/img/buttons/github.png">\n      <a class="btn btn-success btn-remove-account" href="/api/auth/github" target="_self">\n        <i class="glyphicon glyphicon-plus"></i>\n      </a>\n    </div>\n    <div class="social-account-container" ng-hide="vm.isConnectedSocialAccount(\'paypal\')">\n      <img ng-src="/modules/users/client/img/buttons/paypal.png">\n      <a class="btn btn-success btn-remove-account" href="/api/auth/paypal" target="_self">\n        <i class="glyphicon glyphicon-plus"></i>\n      </a>\n    </div>\n  </div>\n</section>\n'),$templateCache.put("modules/users/client/views/settings/settings.client.view.html",'<section>\n  <div class="page-header">\n    <h1>Settings</h1>\n  </div>\n  <div class="row">\n    <nav class="col-sm-3 col-md-3">\n      <ul class="nav nav-pills nav-stacked">\n        <li ui-sref-active="active">\n          <a ui-sref="settings.profile">Edit Profile</a>\n        </li>\n        <li ui-sref-active="active">\n          <a ui-sref="settings.picture">Change Profile Picture</a>\n        </li>\n        <li ui-sref-active="active" ng-show="vm.user.provider === \'local\'">\n          <a ui-sref="settings.password">Change Password</a>\n        </li>\n        <li ui-sref-active="active">\n          <a ui-sref="settings.accounts">Manage Social Accounts</a>\n        </li>\n      </ul>\n    </nav>\n    <div class="col-sm-9 col-md-8 settings-view">\n      <div ui-view></div>\n    </div>\n  </div>\n</section>\n'),$templateCache.put("modules/paintings/client/views/admin/form-painting.client.view.html",'<section class="item-view">\n  <div class="page-header">\n    <h1>{{vm.painting._id ? \'Edit Painting\' : \'New Painting\'}}\n          <a class="btn btn-primary pull-right" ng-click="vm.remove()">\n      <i class="glyphicon glyphicon-trash"></i>\n    </a>\n    </h1>\n  </div>\n  <div class="col-md-12">\n    <form name="vm.form.paintingForm" class="form-horizontal" ng-submit="vm.save(vm.form.paintingForm.$valid)" novalidate>\n      <fieldset>\n        <div class="form-group text-center">\n          <img ng-src="{{vm.imageURL}}" alt="{{vm.painting.name}}" class="img-responsive">\n        </div>\n        <div class="text-center form-group" ng-hide="vm.uploader.queue.length">\n          <span class="btn btn-default btn-file">\n              Select Image <input type="file" nv-file-select uploader="vm.uploader">\n          </span>\n        </div>\n        <div class="text-center form-group" ng-show="vm.uploader.queue.length">\n          <button class="btn btn-primary" ng-click="vm.uploadProfilePicture();">Upload</button>\n          <button class="btn btn-default" ng-click="vm.cancelUpload();">Cancel</button>\n        </div>\n        <div ng-show="vm.success" class="text-center text-success">\n          <strong>Profile Picture Changed Successfully</strong>\n        </div>\n        <div ng-show="vm.error" class="text-center text-danger">\n          <strong ng-bind="vm.error"></strong>\n        </div>\n\n\n        <div class="form-group" show-errors>\n          <label class="control-label" for="name">Name</label>\n          <input name="name" type="text" ng-model="vm.painting.name" id="name" class="form-control" placeholder="Name" required>\n          <div ng-messages="vm.form.paintingForm.name.$error" role="alert">\n            <p class="help-block error-text" ng-message="required">Painting name is required.</p>\n          </div>\n        </div>\n        <div class="form-group">\n          <label class="control-label" for="author">Author</label>\n          <select name="author" id="author" class="form-control" ng-model="vm.painting.author" ng-options="author.name for author in vm.authors"></select>\n        </div>\n        <div class="form-group">\n          <label class="control-label" for="type">Painting Type</label>\n          <select name="type" id="type" class="form-control" ng-model="vm.painting.type" ng-options="type for type in vm.types"></select>\n        </div>\n        <div class="form-group" show-errors>\n          <label class="control-label" for="length">Length(inch)</label>\n          <input name="length" type="number" ng-model="vm.painting.length" id="length" class="form-control" min="0">\n          <div ng-messages="vm.form.paintingForm.length.$error" role="alert">\n            <p class="help-block error-text" ng-message="min number">Please put in valid length</p>\n          </div>\n        </div>\n        <div class="form-group" show-errors>\n          <label class="control-label" for="width">Width(inch)</label>\n          <input name="width" type="number" ng-model="vm.painting.width" id="width" class="form-control" min="0">\n          <div ng-messages="vm.form.paintingForm.width.$error" role="alert">\n            <p class="help-block error-text" ng-message="min number">Please put in valid width</p>\n          </div>\n        </div>\n        <div class="form-group">\n          <label class="control-label" for="description">Description</label>\n          <textarea name="description" data-ng-model="vm.painting.description" id="description" class="form-control" cols="30" rows="10"\n            placeholder="Description"></textarea>\n        </div>\n\n        <div class="form-group">\n          <button type="submit" class="btn btn-default">{{vm.painting._id ? \'Update\' : \'Create\'}}</button>\n        </div>\n        <div ng-show="vm.error" class="text-danger">\n          <strong ng-bind="vm.error"></strong>\n        </div>\n      </fieldset>\n    </form>\n  </div>\n</section>'),$templateCache.put("modules/paintings/client/views/admin/list-paintings.client.view.html",'<section class="grid-view">\n\t<div class="page-header">\n\t\t<h2>\n\t\t\tPaintings\n\t\t\t<a class="btn btn-primary pull-right" data-ui-sref="admin.paintings.create">\n\t\t\t\t<i class="glyphicon glyphicon-plus"></i>\n\t\t\t</a>\n\t\t</h2>\n\n\t</div>\n\t<div class="row filter">\n\t\t<div class="col-sm-4 col-xs-12">\n\t\t\t<input type="text" class="form-control" placeholder="Search name..." ng-model="vm.search" ng-change="vm.figureOutItemsToDisplay()">\n\t\t</div>\n\t\t<div class="col-sm-4 col-xs-12">\n\t\t\t<div class="input-group">\n\t\t\t\t<span class="input-group-addon">Dynasty</span>\n\t\t\t\t<select class="form-control" ng-model="vm.selectedDynasty" ng-change="vm.updateForDynasty()" ng-options="x for x in vm.dynastyList"></select>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="col-sm-4 col-xs-12">\n\t\t\t<div class="input-group">\n\t\t\t\t<span class="input-group-addon">Author</span>\n\t\t\t\t<select id="author" class="form-control" ng-model="vm.selectedAuthor" ng-change="vm.updateForAuthor()" ng-options="x for x in vm.authorList"></select>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="row">\n\t\t<div class="col-md-2 col-sm-4 col-xs-6" data-ng-repeat="painting in vm.pagedItems">\n\t\t\t<a data-ui-sref="admin.paintings.edit({paintingId: painting._id})" class="list-group-item">\n\t\t\t\t<div class="list-image img-responsive">\n\t\t\t\t\t<img ng-src="{{painting.imageURL}}" class="img-thumbnail" />\n\t\t\t\t</div>\n\n\t\t\t\t<strong>\n\t\t\t\t\t<span data-ng-bind="painting.name"></span>\n\t\t\t\t</strong>\n\t\t\t\t<small class="list-group-item-text">\n          <span ng-if="painting.author" ng-bind="painting.author.name"></span>\n        </small>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n\n\t<div class="alert alert-warning text-center" data-ng-if="paintings.$resolved && !paintings.length">\n\t\tNo painting found, please try to other filters.\n\t</div>\n\t<uib-pagination boundary-links="true" max-size="8" items-per-page="vm.itemsPerPage" total-items="vm.filterLength" ng-model="vm.currentPage"\n\t\tng-change="vm.pageChanged()"></uib-pagination>\n</section>')}angular.module("core").run(templates),templates.$inject=["$templateCache"]}();