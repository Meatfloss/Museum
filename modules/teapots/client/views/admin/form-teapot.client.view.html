<section class="item-view">
	<div class="page-header">
		<h1>{{vm.teapot._id ? 'Edit Teapot' : 'New Teapot'}}
			<a class="btn btn-primary pull-right" ng-click="vm.remove()">
				<i class="glyphicon glyphicon-trash"></i>
			</a>
		</h1>
	</div>
	<div class="col-md-12">
		<form name="vm.form.teapotForm" class="form-horizontal" ng-submit="vm.save(vm.form.teapotForm.$valid)" novalidate>
			<fieldset>
				<div class="form-group text-center">
					<img ng-src="{{vm.imageURL}}" alt="{{vm.teapot.name}}" class="img-responsive">
				</div>
				<div class="text-center form-group" ng-hide="vm.uploader.queue.length">
					<span class="btn btn-default btn-file">
              Select Image <input type="file" nv-file-select uploader="vm.uploader">
          </span>
				</div>
				<div class="text-center form-group" ng-show="vm.uploader.queue.length">
					<button class="btn btn-primary" ng-click="vm.uploadProfilePicture();">Upload</button>
					<button class="btn btn-default" ng-click="vm.cancelUpload();">Cancel</button>
				</div>
				<div ng-show="vm.success" class="text-center text-success">
					<strong>Profile Picture Changed Successfully</strong>
				</div>
				<div ng-show="vm.error" class="text-center text-danger">
					<strong ng-bind="vm.error"></strong>
				</div>


				<div class="form-group" show-errors>
					<label class="control-label" for="name">Name</label>
					<input name="name" type="text" ng-model="vm.teapot.name" id="name" class="form-control" placeholder="Name" required>
					<div ng-messages="vm.form.teapotForm.name.$error" role="alert">
						<p class="help-block error-text" ng-message="required">Teapot name is required.</p>
					</div>
				</div>
				<div class="form-group" show-errors>
					<label class="control-label" for="nameZH">Chinese Name</label>
					<input name="nameZH" type="text" ng-model="vm.teapot.nameZH" id="nameZH" class="form-control" placeholder="Chinese Name"
					 required>
					<div ng-messages="vm.form.teapotForm.nameZH.$error" role="alert">
						<p class="help-block error-text" ng-message="required">Chnese Teapot name is required.</p>
					</div>
				</div>
				<div class="form-group" show-errors>
					<label class="control-label" for="author">Author</label>
					<input name="author" type="text" ng-model="vm.teapot.author" id="author" class="form-control" placeholder="Author" required>
				</div>
				<div class="form-group" show-errors>
					<label class="control-label" for="authorZH">Chinese Author</label>
					<input name="authorZH" type="text" ng-model="vm.teapot.authorZH" id="authorZH" class="form-control" placeholder="Chinese Author"
					 required>
				</div>
				<div class="form-group" show-errors>
					<label class="control-label" for="mark">Mark</label>
					<input name="mark" type="text" ng-model="vm.teapot.mark" id="mark" class="form-control" placeholder="Mark" required>
				</div>
				<div class="form-group" show-errors>
					<label class="control-label" for="markZH">Chinese Mark</label>
					<input name="markZH" type="text" ng-model="vm.teapot.markZH" id="markZH" class="form-control" placeholder="Chinese Mark"
					 required>
				</div>
				<div class="form-group">
					<label class="control-label" for="type">Dynasty</label>
					<select name="dynasty" id="dynasty" class="form-control" ng-model="vm.teapot.dynasty" ng-options="dynasty for dynasty in vm.dynasties" ng-change="vm.updateDynasty(vm.teapot.dynasty)"></select>
				</div>
				<div class="form-group">
					<label class="control-label" for="type">Reign Title</label>
					<select name="reignTitle" id="reignTitle" class="form-control" ng-model="vm.teapot.reignTitle" ng-options="reignTitle for reignTitle in vm.reignTitles"></select>
				</div>
				<div class="form-group" show-errors>
					<label class="control-label" for="height">Height(inch)</label>
					<input name="height" type="number" ng-model="vm.teapot.height" id="height" class="form-control" min="0">
					<div ng-messages="vm.form.teapotForm.height.$error" role="alert">
						<p class="help-block error-text" ng-message="min number">Please put in valid height</p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label" for="description">Description</label>
					<textarea name="description" data-ng-model="vm.teapot.description" id="description" class="form-control" cols="30" rows="10"
					 placeholder="Description"></textarea>
				</div>
				<div class="form-group">
					<label class="control-label" for="descriptionZH">Chinese Description</label>
					<textarea name="descriptionZH" data-ng-model="vm.teapot.descriptionZH" id="descriptionZH" class="form-control" cols="30"
					 rows="10" placeholder="Chinese Description"></textarea>
				</div>
				<div class="form-group">
					<button type="submit" class="btn btn-default">{{vm.teapot._id ? 'Update' : 'Create'}}</button>
				</div>
				<div ng-show="vm.error" class="text-danger">
					<strong ng-bind="vm.error"></strong>
				</div>
			</fieldset>
		</form>
	</div>
</section>